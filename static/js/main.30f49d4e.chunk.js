(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{167:function(e,t,n){},223:function(e,t,n){},344:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){},394:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n(0),r=n.n(a),c=n(19),s=n.n(c),i=n(6),l=Object(a.createContext)(),d=l.Provider,u=function(e){var t=e.children,n=localStorage.getItem("userId"),r=Object(a.useState)(localStorage.getItem("token")),c=Object(i.a)(r,2),s=c[0],l=c[1],u=Object(a.useState)(n),j=Object(i.a)(u,2),b=j[0],h=j[1],p=Object(a.useState)(""),x=Object(i.a)(p,2),m=x[0],O=x[1],f=Object(a.useState)([]),g=Object(i.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(v.map((function(e){return e.value}))),k=Object(i.a)(w,2),C=k[0],S=k[1],z=Object(a.useState)(!1),A=Object(i.a)(z,2),R=A[0],_=A[1];return Object(o.jsx)(d,{value:{token:s,setToken:l,keyword:m,setKeyword:O,categoryDisplay:v,setCategoryDisplay:y,selectedOption:C,setSelectedOption:S,storiesOpen:R,setStoriesOpen:_,userId:b,setUserId:h},children:t})},j=n(26),b=n(27),h=(n(223),n(3)),p=n(7),x=n.n(p),m=n(10),O=n(57),f=n.n(O),g=n(38),v=n.n(g),y=n(101),w=n.n(y),k={width:"240px",margin:"auto",textAlign:"center",paddingTop:"5px"},C={width:"100%",height:"30px",position:"relative",margin:"24px auto"},S={width:"100%",height:"100%",border:"0",outline:"none",paddingLeft:"40px",boxSizing:"border-box",fontSize:"13px",color:"#333",borderRadius:"20px",cursor:"pointer",display:"flex",justifyContent:"flex-start"},z={width:"200px",height:"30px",border:"none",outline:"none",paddingLeft:"0",boxSizing:"border-box",fontSize:"13px",color:"#fff",borderRadius:"20px",cursor:"pointer",backgroundColor:"#83acf1",letterSpacing:"1px",fontWeight:"bold",marginBottom:"10px",boxShadow:" 3px 3px 3px #837777"},A={position:"absolute",top:"6px",left:"12px"},R={margin:"12px auto 6px 0",fontSize:"14px",color:"green"},_={fontSize:"10px",backgroundColor:"rgb(5, 5, 5)",width:"100%",borderRadius:"10px",textAlign:"center",color:"yellow",margin:"2px auto",padding:"2px"},P={width:"100%",marginTop:"3rem"},T={cursor:"pointer",color:"yellow",fontSize:"15px",fontWeight:"bold"},N=n(36),I=n(13),L=n(11),E=n.n(L),W=function(){var e=Object(m.a)(x.a.mark((function e(t,n){var o,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=localStorage.getItem("token"),e.next=3,E.a.post("https://fs-blog-backend.herokuapp.com/".concat(t),n,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:o?"Token "+o:null}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(x.a.mark((function e(t,n){var o,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=localStorage.getItem("token"),e.next=3,E.a.put("https://fs-blog-backend.herokuapp.com/".concat(t),n,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:o?"Token "+o:null}});case 3:return a=e.sent,console.log({response:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function B(e){var t=e.setShowSI,n=function(){var e=Object(m.a)(x.a.mark((function e(t){var n,o,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W("user/register/",t);case 3:alert("".concat(t.username,"'s account created successfully!")),e.next=10;break;case 6:if(e.prev=6,e.t0=e.catch(0),n=e.t0.response){for(r in o=n.data,a=[],o)a.push("\n ".concat(r,": ").concat(o[r]));alert(a)}else console.log("Something went wrong!");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),a=Object(N.a)({initialValues:{username:void 0,email:void 0,password:void 0,password2:void 0},validationSchema:I.b({username:I.d().max(15,"Must be 15 characters or less").required("Required"),email:I.d().email("Invalid email address").required("Required"),password:I.d().required("No password provided").min(6,"Should be min 6 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,}$/,"Must contain min one uppercase, one lowercase and one number"),password2:I.d().required("You should confirm the password").oneOf([I.c("password"),null],"Passwords must match")}),onSubmit:function(e){n(e),t(!0)}});return Object(o.jsx)("div",{style:k,children:Object(o.jsxs)("form",{onSubmit:a.handleSubmit,children:[Object(o.jsxs)("div",{style:C,children:[Object(o.jsx)("div",{style:A,children:Object(o.jsx)(f.a,{fontSize:"small"})}),Object(o.jsx)("input",{name:"username",className:"inp",style:S,placeholder:"Username",value:a.values.username,onChange:a.handleChange}),a.touched.username&&a.errors.username?Object(o.jsx)("div",{style:_,children:a.errors.username}):null]}),Object(o.jsxs)("div",{style:C,children:[Object(o.jsx)("div",{style:A,children:Object(o.jsx)(w.a,{fontSize:"small"})}),Object(o.jsx)("input",{name:"email",className:"inp",style:S,type:"email",placeholder:"Email",value:a.values.email,onChange:a.handleChange}),a.touched.email&&a.errors.email?Object(o.jsx)("div",{style:_,children:a.errors.email}):null]}),Object(o.jsxs)("div",{style:C,children:[Object(o.jsx)("div",{style:A,children:Object(o.jsx)(v.a,{fontSize:"small"})}),Object(o.jsx)("input",{name:"password",className:"inp",style:S,type:"password",placeholder:"Password",value:a.values.password,onChange:a.handleChange}),a.touched.password&&a.errors.password?Object(o.jsx)("div",{style:_,children:a.errors.password}):null]}),Object(o.jsxs)("div",{style:C,children:[Object(o.jsx)("div",{style:A,children:Object(o.jsx)(v.a,{fontSize:"small"})}),Object(o.jsx)("input",{name:"password2",className:"inp",style:S,type:"password",placeholder:"Confirm Password",value:a.values.password2,onChange:a.handleChange}),a.touched.password2&&a.errors.password2?Object(o.jsx)("div",{style:_,children:a.errors.password2}):null]}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{marginTop:"6px",border:"1px solid #fff",boxShadow:"0"}),className:"btn",type:"submit",children:"Submit"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{marginTop:"6px",border:"1px solid #fff",boxShadow:"0"}),className:"btn",onClick:function(){return t(!0)},children:"Cancel"})]})})}function M(){var e=Object(a.useContext)(l),t=e.setToken,n=e.setUserId,r=Object(a.useState)(null),c=Object(i.a)(r,2),s=c[0],d=c[1],u=Object(b.g)(),j=function(){var e=Object(m.a)(x.a.mark((function e(o){var a,r,c,s,i,l,j;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W("auth/login/",o);case 3:l=e.sent,localStorage.setItem("token",null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.key),localStorage.setItem("userId",null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.user.id),localStorage.setItem("username",null===l||void 0===l||null===(c=l.data)||void 0===c?void 0:c.user.username),t(null===l||void 0===l||null===(s=l.data)||void 0===s?void 0:s.key),n(null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.user.id),u.push("/home"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),(j=e.t0.response)?d(j.data.non_field_errors[0]):alert("Something went wrong!");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),p=Object(N.a)({initialValues:{username:"",password:""},onSubmit:function(e){""===e.username?d("Enter username"):""===e.password?d("Enter password"):j(e)}});return Object(o.jsx)("div",{style:k,children:Object(o.jsxs)("form",{onSubmit:p.handleSubmit,children:[Object(o.jsxs)("div",{style:C,children:[Object(o.jsx)("div",{style:A,children:Object(o.jsx)(f.a,{fontSize:"small"})}),Object(o.jsx)("input",{name:"username",classname:"inp",style:S,placeholder:"Username",value:p.values.username,onChange:p.handleChange})]}),Object(o.jsxs)("div",{style:C,children:[Object(o.jsx)("div",{style:A,children:Object(o.jsx)(v.a,{fontSize:"small"})}),Object(o.jsx)("input",{name:"password",classname:"inp",type:"password",style:S,placeholder:"Password",value:p.values.password,onChange:p.handleChange}),s?Object(o.jsx)("div",{style:_,children:s}):null]}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{border:"1px solid #fff",boxShadow:"0",marginTop:"2rem"}),type:"submit",children:"Sign In"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{border:"1px solid #fff",boxShadow:"0"}),onClick:function(){window.location.reload(!1)},children:"Cancel"}),Object(o.jsx)("div",{style:P,children:Object(o.jsx)("p",{style:T,onClick:function(){u.push("/password-reset")},children:"Forgot password?"})})]})})}var U=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(b.g)(),s=function(){r(!n)};return Object(o.jsxs)("div",{className:"hero",children:[Object(o.jsx)("div",{className:"title-container",children:Object(o.jsx)("h1",{className:"title",children:"Nord Blog"})}),Object(o.jsxs)("div",{className:"form-box",children:[Object(o.jsxs)("div",{className:"button-box",children:[Object(o.jsx)("div",{className:"float-btn",style:n?{left:0}:{left:"110px"}}),Object(o.jsx)("button",{className:"toggle-btn",onClick:s,children:"Sign In"}),Object(o.jsx)("button",{className:"toggle-btn",onClick:s,children:"Sign Up"})]}),n?Object(o.jsx)(M,{}):Object(o.jsx)(B,{setShowSI:r}),Object(o.jsx)("div",{style:{position:"absolute",bottom:"1.2rem",width:"100%"},children:Object(o.jsx)("p",{style:{cursor:"pointer",color:"yellow",fontSize:"15px",fontWeight:"bold",textAlign:"center"},onClick:function(){c.push("/home")},children:"Continue without an account"})})]})]})},Y=n(178),F=n.n(Y),H=(n(344),n(167),n(431)),q=n(435),V=n(436),K=n(437),G=n(110),Z=n(452),J=n(432),$=n(181),X=n.n($),Q=n(434),ee=n(451),te=n(202),ne=n(433),oe=n(455),ae=n(454),re=n(179),ce=n.n(re),se=Object(H.a)((function(e){return{root:{display:"flex"},paper:{marginRight:e.spacing(2)}}}));function ie(){var e=se(),t=r.a.useState(!1),n=Object(i.a)(t,2),a=n[0],c=n[1],s=r.a.useRef(null),l=Object(b.g)(),d=function(e){s.current&&s.current.contains(e.target)||c(!1)};function u(e){"Tab"===e.key&&(e.preventDefault(),c(!1))}var j=r.a.useRef(a);return r.a.useEffect((function(){!0===j.current&&!1===a&&s.current.focus(),j.current=a}),[a]),Object(o.jsx)("div",{className:e.root,children:Object(o.jsxs)("div",{children:[Object(o.jsx)(J.a,{ref:s,"aria-controls":a?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){c((function(e){return!e}))},children:Object(o.jsx)(ce.a,{style:{fill:"white"}})}),Object(o.jsx)(ne.a,{open:a,anchorEl:s.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(o.jsx)(ee.a,Object(h.a)(Object(h.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(o.jsx)(te.a,{children:Object(o.jsx)(Q.a,{onClickAway:d,children:Object(o.jsxs)(ae.a,{autoFocusItem:a,id:"menu-list-grow",onKeyDown:u,children:[Object(o.jsx)(oe.a,{onClick:function(){l.push("/home"),c(!1)},children:"Home"}),Object(o.jsx)(oe.a,{onClick:function(){l.push("/about"),c(!1)},children:"About Us"}),Object(o.jsx)(oe.a,{onClick:function(){l.push("/contact"),c(!1)},children:"Contact"})]})})})}))}})]})})}var le=Object(H.a)((function(e){return{grow:{flexGrow:1,"& .MuiToolbar-gutters":{paddingLeft:5,paddingRight:20},backgroundColor:e.palette.secondary.main},menuButton:{marginRight:e.spacing(2)},title:{cursor:"pointer"}}}));function de(){var e=Object(b.g)(),t=Object(a.useContext)(l),n=t.token,r=t.setToken,c=t.setKeyword,s=t.setSelectedOption,d=t.categoryDisplay,u=t.setStoriesOpen,j=t.setUserId,h=Object(a.useState)(""),p=Object(i.a)(h,2),O=p[0],f=p[1],g=le(),v=function(){var e=Object(m.a)(x.a.mark((function e(){var t,o,a,r=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"https://fs-blog-backend.herokuapp.com/user/profile/",e.prev=1,e.next=4,E.a.get(t,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:n?"Token "+n:null}});case 4:a=e.sent,f(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.image),console.log("Profile info fetched"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){v()}),[]),Object(o.jsx)("div",{className:g.grow,children:Object(o.jsx)(q.a,{position:"static",children:Object(o.jsxs)(V.a,{style:{backgroundColor:"#719fb0"},children:[Object(o.jsx)(ie,{}),Object(o.jsx)(G.a,{className:g.title,variant:"h5",onClick:function(){c(""),s(d.map((function(e){return e.value}))),e.push("/home")},noWrap:!0,children:"Blog"}),Object(o.jsx)("div",{className:g.grow}),Object(o.jsx)("div",{className:g.sectionDesktop,children:n?Object(o.jsxs)("div",{children:[Object(o.jsx)(K.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){e.push("/profile"),u(!1)},color:"inherit",children:Object(o.jsx)(Z.a,{alt:"User Avatar",src:O,className:g.small})}),Object(o.jsx)(J.a,{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("username"),r(null),j(null),alert("You successfully logged out."),e.push("/home")},color:"inherit",children:Object(o.jsx)(X.a,{fontSize:"large"})})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(J.a,{onClick:function(){return e.push("/")},color:"inherit",children:"Login"}),Object(o.jsx)(J.a,{onClick:function(){return e.push("/")},color:"inherit",children:"Register"})]})})]})})})}var ue=n(438),je=n(439),be=n(440),he=n(441),pe=n(442),xe=n(103),me=n.n(xe),Oe=n(104),fe=n.n(Oe),ge=n(183),ve=n.n(ge),ye=n(32),we=n.n(ye),ke=n(182),Ce=n.n(ke),Se=Object(H.a)((function(e){return{root:{maxWidth:355,marginBottom:10,marginTop:10,marginLeft:15,marginRight:15,backgroundColor:"#351f39",color:"#a0c1b8",borderRadius:"26px",cursor:"pointer"},media:{height:0,paddingTop:"56.25%"},headerTitle:{fontSize:"1.3rem",fontWeight:"bold"},Subheader:{color:"white",fontSize:"0.8rem",fontWeight:400},timeContent:{textAlign:"right",margin:0,fontStyle:"italic"},timeRoot:{paddingTop:5},contentRoot:{padding:5,paddingLeft:15}}})),ze={height:"1.2rem",lineHeight:"1.2rem",textAlign:"center",backgroundColor:"#44bd32",color:"#fff",borderRadius:"9px",width:"8rem",fontSize:"0.7rem",margin:"0.3rem",marginBottom:"0.7rem"},Ae={margin:"5px auto",width:"100%",display:"flex",justifyContent:"space-around",borderTop:"1px solid rgba(220, 221, 225, 0.2)"},Re={fill:"white",marginRight:5,color:"#fff"};function _e(e){var t=e.item,n=e.itemStatus,a=(e.id,Se()),r=Object(b.g)();return Object(o.jsxs)(ue.a,{className:a.root,onClick:function(){return r.push("/detail/".concat(t.slug))},children:[Object(o.jsx)(je.a,{classes:{title:a.headerTitle},avatar:Object(o.jsx)(Z.a,{"aria-label":"recipe",className:a.avatar,children:Object(o.jsx)(Z.a,{alt:"Avatar",src:t.author_avatar})}),title:t.title}),Object(o.jsx)(be.a,{className:a.media,image:t.image_URL}),Object(o.jsx)(je.a,{subheader:we()(t.publish_date).format("MMMM Do YYYY, h:mm"),classes:{subheader:a.Subheader,content:a.timeContent,root:a.timeRoot}}),Object(o.jsx)(he.a,{classes:{root:a.contentRoot},children:Object(o.jsx)(Ce.a,{text:t.content,maxLine:"3",ellipsis:"...",trimRight:!0,basedOn:"letters"})}),Object(o.jsx)(pe.a,{disableSpacing:!0,children:Object(o.jsxs)("div",{style:Ae,children:[Object(o.jsxs)(K.a,{"aria-label":"add to favorites",children:[Object(o.jsx)(me.a,{style:Re}),Object(o.jsx)("span",{style:Object(h.a)(Object(h.a)({},Re),{},{fontSize:"1rem"}),children:t.like_count})]}),Object(o.jsxs)(K.a,{"aria-label":"page visited",children:[Object(o.jsx)(fe.a,{style:Re}),Object(o.jsx)("span",{style:Object(h.a)(Object(h.a)({},Re),{},{fontSize:"1rem"}),children:t.view_count})]}),Object(o.jsxs)(K.a,{"aria-label":"comment count",children:[Object(o.jsx)(ve.a,{style:Re}),Object(o.jsx)("span",{style:Object(h.a)(Object(h.a)({},Re),{},{fontSize:"1rem"}),children:t.comment_count})]})]})}),0==n?null:"published"==t.status?Object(o.jsx)(he.a,{classes:{root:a.contentRoot},style:{padding:"0 0 5px 15px"},children:Object(o.jsx)("p",{style:ze,children:"Status: Published"})}):Object(o.jsx)(he.a,{classes:{root:a.contentRoot},style:{padding:"0 0 5px 15px"},children:Object(o.jsx)("p",{style:Object(h.a)(Object(h.a)({},ze),{},{backgroundColor:"#e1b12c"}),children:"Status: Draft"})})]})}var Pe=n(83),Te=n(12);function Ne(){var e=Object(Pe.a)(["\n  position: relative;\n  width: 280px;\n  height: 50px;\n  background: #fff;\n  box-sizing: border-box;\n  border-radius: 25px;\n  border: 2px solid #351f39;\n  padding: 5px;\n  outline: 0;\n  margin-left: -1%;\n\n  &:hover input {\n    visibility: visible;\n    background: transparent;\n  }\n\n  &:hover button {\n    background: #351f39;\n  }\n"]);return Ne=function(){return e},e}function Ie(){var e=Object(Pe.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 47px;\n  line-height: 30px;\n  outline: 0;\n  border: 0;\n  visibility: hidden;\n  color: #726a95;\n  font-size: 1em;\n  font-weight: bold;\n  border-radius: 20px;\n  padding: 0 20px;\n"]);return Ie=function(){return e},e}function Le(){var e=Object(Pe.a)(["\n  box-sizing: border-box;\n  padding: 10px;\n  width: 42.5px;\n  height: 42.5px;\n  position: absolute;\n  top: 1px;\n  right: 1.5px;\n  border-radius: 50%;\n  color: #719fb0;\n  text-align: center;\n  font-size: 1.2rem;\n  font-weight: 900;\n  transition: all 1s;\n  outline: none;\n"]);return Le=function(){return e},e}function Ee(){var e=Object(Pe.a)(["\n  cursor: pointer;\n"]);return Ee=function(){return e},e}var We=Te.default.button(Ee()),De=Object(Te.default)(We)(Le()),Be=Te.default.input(Ie()),Me=Te.default.div(Ne()),Ue=n(185),Ye=n.n(Ue),Fe=function(){var e=Object(a.useRef)(),t=Object(a.useContext)(l).setKeyword;return Object(o.jsxs)(Me,{children:[Object(o.jsx)(Be,{ref:e,onKeyDown:function(n){var o;"Enter"===n.key&&(t(null===e||void 0===e||null===(o=e.current)||void 0===o?void 0:o.value),e.current.value="")}}),Object(o.jsx)(De,{onClick:function(){var n;t(null===e||void 0===e||null===(n=e.current)||void 0===n?void 0:n.value),e.current.value=""},children:Object(o.jsx)(Ye.a,{})})]})},He=n(197),qe=function(e){var t=e.setSelectedOption,n=Object(a.useState)([]),r=Object(i.a)(n,2),c=r[0],s=r[1],d=Object(a.useContext)(l),u=d.categoryDisplay,j=d.setCategoryDisplay,b=(d.reset,function(){var e=Object(m.a)(x.a.mark((function e(){var t,n,o,a=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"https://fs-blog-backend.herokuapp.com/api/category-list/",e.prev=1,e.next=4,E.a.get(t);case 4:n=e.sent,o=null===n||void 0===n?void 0:n.data,s(o),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){j(c.map((function(e){return{value:e.name,label:e.name.charAt(0).toUpperCase()+e.name.slice(1)}})))}),[c]),Object(o.jsx)("div",{style:{minWidth:"250px"},children:Object(o.jsx)(He.a,{isMulti:!0,name:"categories",options:u,className:"basic-multi-select",classNamePrefix:"select",onChange:function(e){!function(e){t(e.map((function(e){return e.value})))}(e)}})})},Ve=n(106),Ke=n.n(Ve),Ge=n(449),Ze=n(443),Je=n(52),$e=Object(H.a)((function(e){return{root:{flexGrow:1,"& > *":{margin:e.spacing(5)},minHeight:"70vh"},paper:{height:140,width:100},control:{padding:e.spacing(2)}}})),Xe={width:"50%",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",margin:"30px auto"},Qe={width:"100%",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"60px",backgroundColor:"#f6f5f5"},et={padding:"10px",outline:"none",border:"0",borderRadius:"20px",cursor:"pointer",width:"16rem",fontSize:"1rem",fontWeight:"bold",backgroundColor:"#83acf1",color:"#fff"};var tt=function(){var e=Object(a.useContext)(l),t=e.keyword,n=e.setKeyword,r=e.categoryDisplay,c=e.selectedOption,s=e.setSelectedOption,d=e.userId,u=Object(b.g)(),j=Object(a.useState)([]),p=Object(i.a)(j,2),O=p[0],f=p[1],g=Object(a.useState)([]),v=Object(i.a)(g,2),y=v[0],w=v[1],k=Object(a.useState)([]),C=Object(i.a)(k,2),S=C[0],z=C[1],A=Object(a.useState)([]),R=Object(i.a)(A,2),_=R[0],P=R[1],T=$e(),N=Object(a.useState)(0),I=Object(i.a)(N,2),L=I[0],W=I[1],D=Object(a.useState)(6),B=Object(i.a)(D,1)[0],M=Object(a.useState)(0),U=Object(i.a)(M,2),Y=U[0],H=U[1],q=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n,o,a,r=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"https://fs-blog-backend.herokuapp.com/api/post-list/",e.prev=1,e.next=4,E.a.get(t);case 4:n=e.sent,o=null===n||void 0===n?void 0:n.data,a=o.filter((function(e){return"published"===e.status})),f(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),V=function(){""!==t?function(e,t){var n=t.filter((function(t){return t.title.toUpperCase().indexOf(e.toUpperCase())>-1}));w(n)}(t,O):w(O)},K=[];return Object(a.useEffect)((function(){q()}),[]),Object(a.useEffect)((function(){V()}),[t,O]),Object(a.useEffect)((function(){c.forEach((function(e){y.forEach((function(t){e===t.category&&K.push(t)}))})),z(K)}),[y,c]),Object(a.useEffect)((function(){!function(){var e=S.slice(L,L+B);H(Math.ceil(S.length/B)),P(e)}()}),[S,L,O]),Object(a.useEffect)((function(){c.length||s(r.map((function(e){return e.value})))}),[c]),(null===O||void 0===O?void 0:O.length)?Object(o.jsxs)("div",{style:{backgroundColor:"#f6f5f5",minHeight:"100vh",overflow:"hidden"},children:[Object(o.jsx)(de,{}),d&&Object(o.jsxs)("div",{className:"flyingButton",onClick:function(){return u.push("/create")},children:[Object(o.jsx)(Ke.a,{fontSize:"large"}),Object(o.jsx)("div",{className:"createPostContainer",children:"Create a Post"})]}),Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},Xe),{},{margin:"30px auto"}),children:[Object(o.jsx)(Fe,{}),Object(o.jsx)("div",{style:Object(h.a)(Object(h.a)({},Xe),{},{position:"absolute",top:"107px"}),children:(null===t||void 0===t?void 0:t.length)?Object(o.jsxs)("p",{style:{color:"tomato",fontWeight:"bolder",padding:"10px"},children:['Results shown with keyword: "',t,'"']}):null})]}),Object(o.jsx)("div",{style:Object(h.a)(Object(h.a)({},Xe),{},{margin:"10px auto"}),children:Object(o.jsx)(qe,{selectedOption:c,setSelectedOption:s})}),Object(o.jsx)(Ze.a,{container:!0,className:T.root,spacing:5,justify:"center",children:Object(o.jsx)(Ze.a,{item:!0,xs:12,children:Object(o.jsx)(Ze.a,{container:!0,justify:"center",spacing:5,children:S.length?_.map((function(e,t){return Object(o.jsx)(_e,{item:e,itemStatus:!1,id:t})})):Object(o.jsxs)("div",{children:[(null===t||void 0===t?void 0:t.length)?Object(o.jsxs)("p",{style:{textAlign:"center",fontWeight:"bold"},children:['"',t,'" is not available in bloglist titles.']}):null,Object(o.jsx)(Ge.a,{p:9,children:Object(o.jsx)("button",{type:"",onClick:function(){n(""),s(r.map((function(e){return e.value})))},style:et,children:"Back to Home Page"})})]})})})}),Object(o.jsx)("div",{style:Qe,children:Object(o.jsx)(F.a,{previousLabel:"<",nextLabel:">",breakLabel:"...",breakClassName:"break-me",pageCount:Y,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var t=e.selected;W(6*t)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)(de,{}),Object(o.jsx)("div",{style:Xe,children:Object(o.jsx)(Fe,{})}),Object(o.jsx)(Je.LoopCircleLoading,{})]})},nt={width:"100%",display:"flex",flexDirection:"column",backgroundColor:"rgba(0,0,0,0.5)"},ot={width:"30%",fontSize:"2rem",color:"#c7ecee",letterSpacing:"2px",textAlign:"center",margin:"2rem auto",fontWeight:"bold"};function at(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(de,{}),Object(o.jsx)("div",{style:ot,children:Object(o.jsx)("p",{children:"The team"})}),Object(o.jsx)("div",{style:nt})]})}var rt=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(de,{}),Object(o.jsx)("p",{children:"Contact"})]})},ct=n(107),st=n.n(ct),it=n(186),lt=n.n(it),dt=n(82),ut=n.n(dt),jt=n(187),bt=n.n(jt),ht=n(108),pt=n.n(ht),xt={width:"10rem",height:"3rem",border:"0",outline:"none",boxSizing:"border-box",fontSize:"15px",borderRadius:"20px",cursor:"pointer",backgroundColor:"#83acf1",color:"#fff",letterSpacing:"1px",fontWeight:"bold",margin:"20px",boxShadow:" 3px 3px 3px #837777"},mt={width:"200px",height:"30px",border:"none",outline:"none",paddingLeft:"0",boxSizing:"border-box",fontSize:"13px",color:"#fff",borderRadius:"20px",cursor:"pointer",backgroundColor:"#83acf1",letterSpacing:"1px",fontWeight:"bold",marginBottom:"10px",boxShadow:" 3px 3px 3px #837777"},Ot={cursor:"pointer",textAlign:"center",backgroundColor:"#709fb0",color:"#fff",fontWeight:"bold",border:"none",outline:"none",fontSize:"11px",padding:"8px",width:"100px",borderRadius:"12px",boxShadow:" 3px 3px 3px #837777"},ft={display:"flex",justifyContent:"space-between",width:"60%",maxWidth:"600px",minWidth:"300px",alignSelf:"center",margin:"1rem auto"},gt={width:"80%",height:"auto",margin:"30px auto",textAlign:"center",color:"#350b40"},vt={width:"80%",height:"auto",margin:"30px auto",textAlign:"center"},yt={color:"#350b40",textTransform:"capitalize"},wt=n(450),kt={minWidth:"300px",width:"650px",minHeight:"550px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#f0f0f0",borderRadius:"20px",border:"2px solid 03506f",display:"flex",flexDirection:"column",boxShadow:"3px 3px 7px #555, -3px -3px 7px #555"},Ct={maxWidth:"400px",minWidth:"300px",minHeight:"400px",padding:"24px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#f0f0f0",borderRadius:"20px",border:"2px solid 03506f",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"3px 3px 7px #555, -3px -3px 7px #555",outline:"none"},St={color:"#719fb0",fontWeight:"bold",marginBottom:"7px",textAlign:"left"},zt={width:"100%",backgroundColor:"#b3ccd4",padding:"1rem",borderRadius:"0.5rem",fontFamily:'"Arial", sans-serif',fontSize:"13px",outline:"none"},At={display:"flex",alignItems:"center",justifyContent:"center"};function Rt(e){var t=e.open,n=e.setOpen,a=e.profile,r=e.refresh,c=Object(N.a)({initialValues:{user:a.user,image:a.image,bio:a.bio},validationSchema:I.b({image:I.d(),bio:I.d().max(1e4,"Must be less than 10000 chars")}),onSubmit:function(e){s(e),n(!1)}}),s=function(e){D("user/profile/",e).then((function(e,t){alert("Successfully updated!")})).catch((function(e){alert((null===e||void 0===e?void 0:e.message)||"An error occured")}))},i=Object(o.jsx)("div",{className:"modalContainer",style:kt,children:Object(o.jsxs)("form",{onSubmit:c.handleSubmit,children:[Object(o.jsx)("div",{style:vt,children:Object(o.jsxs)("h2",{style:yt,children:[a.user,"'s Profile Edit"]})}),Object(o.jsxs)("div",{style:vt,children:[Object(o.jsx)("div",{style:St,children:Object(o.jsx)("label",{htmlFor:"image",children:"Image URL"})}),Object(o.jsx)("input",{style:zt,name:"image",type:"text",value:c.values.image,onChange:c.handleChange}),c.touched.image&&c.errors.image?Object(o.jsx)("div",{className:"error-message",children:c.errors.image}):null]}),Object(o.jsxs)("div",{style:vt,children:[Object(o.jsx)("div",{style:St,children:Object(o.jsx)("label",{htmlFor:"bio",children:"Biography"})}),Object(o.jsx)("textarea",{style:Object(h.a)(Object(h.a)({},zt),{},{minHeight:"200px",overflow:"scroll",lineHeight:"1.4rem"}),name:"bio",type:"text",value:c.values.bio,onChange:c.handleChange}),c.touched.bio&&c.errors.bio?Object(o.jsx)("div",{className:"error-message",children:c.errors.bio}):null]}),Object(o.jsxs)("div",{style:At,children:[Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},xt),{},{width:"6rem"}),type:"submit",onClick:r,children:"Submit"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},xt),{},{backgroundColor:"hsl(34, 80%, 73%)",width:"6rem"}),onClick:function(){return n(!1)},children:"Cancel"})]})]})});return Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:t,onClose:function(){n(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",hideBackdrop:!0,children:i})})}var _t=n(35);n(392);function Pt(e){var t=e.open,n=e.setOpen,r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(a.useState)([]),u=Object(i.a)(d,2),j=u[0],b=u[1],p=Object(a.useState)({publishedCount:0,totalCommentCount:0,totalViewCount:0,totalLikeCount:0}),O=Object(i.a)(p,2),f=O[0],g=O[1],v=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,E.a.get("http://fs-blog-backend.herokuapp.com/api/post-list",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t?"Token "+t:null}});case 4:n=e.sent,l(n.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),y=Object(o.jsxs)("div",{style:Ct,children:[Object(o.jsx)("div",{style:vt,children:Object(o.jsx)("h2",{style:yt,children:"User Statistics"})}),Object(o.jsxs)("table",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"All stories"}),Object(o.jsx)("td",{children:j.length})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Published stories"}),Object(o.jsx)("td",{children:f.publishedCount})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Draft stories"}),Object(o.jsx)("td",{children:j.length-f.publishedCount})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Post views"}),Object(o.jsx)("td",{children:f.totalViewCount})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Received comments"}),Object(o.jsx)("td",{children:f.totalCommentCount})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Likes"}),Object(o.jsx)("td",{children:f.totalLikeCount})]})]}),Object(o.jsx)("div",{className:"btn-container",children:Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},xt),{},{marginTop:"2rem"}),onClick:function(){return n(!1)},children:"OK"})})]});return Object(a.useEffect)((function(){v()}),[]),Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("userId");console.log(e);var t=s.filter((function(t){return t.author==e}));console.log(t),b(t)}()}),[s]),Object(a.useEffect)((function(){!function(){var e=0,t=0,n=0,o=j.filter((function(e){return"published"==e.status}));!function(){var t,n=Object(_t.a)(j);try{for(n.s();!(t=n.n()).done;){var o=t.value;e+=o.comment_count}}catch(a){n.e(a)}finally{n.f()}}(),function(){var e,n=Object(_t.a)(j);try{for(n.s();!(e=n.n()).done;){var o=e.value;t+=o.view_count}}catch(a){n.e(a)}finally{n.f()}}(),function(){var e,t=Object(_t.a)(j);try{for(t.s();!(e=t.n()).done;){var o=e.value;n+=o.like_count}}catch(a){t.e(a)}finally{t.f()}}(),g(Object(h.a)(Object(h.a)({},f),{},{publishedCount:o.length,totalCommentCount:e,totalViewCount:t,totalLikeCount:n}))}()}),[j]),Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:t,onClose:function(){n(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:y})})}var Tt=Object(H.a)((function(e){return{root:{flexGrow:1,"& > *":{margin:e.spacing(5)},minHeight:"70vh"},paper:{height:140,width:100},control:{padding:e.spacing(2)}}})),Nt={width:"80%",backgroundColor:"#a0c1b8",padding:"10px",borderRadius:"2rem",textAlign:"center",margin:"0.5rem auto"},It={textAlign:"center",color:"#c0392b",fontWeight:"bold",margin:"4rem auto"},Lt=function(){var e=Object(a.useContext)(l).setStoriesOpen,t=Object(a.useState)([]),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),d=Object(i.a)(s,2),u=d[0],j=d[1],b=Object(a.useState)([]),p=Object(i.a)(b,2),O=p[0],f=p[1],g=Object(a.useState)([]),v=Object(i.a)(g,2),y=v[0],w=v[1],k=Tt(),C=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,E.a.get("http://fs-blog-backend.herokuapp.com/api/post-list",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t?"Token "+t:null}});case 4:n=e.sent,c(n.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){C()}),[]),Object(a.useEffect)((function(){!function(){var e=localStorage.getItem("userId"),t=r.filter((function(t){return t.author==e}));j(t)}()}),[r]),Object(a.useEffect)((function(){!function(){var e=[],t=[];u.filter((function(n){"published"==n.status?e.push(n):t.push(n)})),f(e),w(t)}()}),[u]),Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{style:{textAlign:"center",margin:"4rem auto"},children:"Stories"}),(null===r||void 0===r?void 0:r.length)?(null===u||void 0===u?void 0:u.length)?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{style:Nt,children:"Published"}),O.length?Object(o.jsx)(Ze.a,{container:!0,className:k.root,spacing:5,justify:"center",children:Object(o.jsx)(Ze.a,{item:!0,xs:12,children:Object(o.jsx)(Ze.a,{container:!0,justify:"center",spacing:5,children:O.map((function(e,t){return Object(o.jsx)(_e,{item:e,itemStatus:!0})}))})})}):Object(o.jsx)("div",{style:It,children:Object(o.jsx)("p",{children:"You have no published articles yet \ud83d\ude15 "})}),Object(o.jsx)("h3",{style:Nt,children:"Draft"}),y.length?Object(o.jsx)(Ze.a,{container:!0,className:k.root,spacing:5,justify:"center",children:Object(o.jsx)(Ze.a,{item:!0,xs:12,children:Object(o.jsx)(Ze.a,{container:!0,justify:"center",spacing:5,children:y.map((function(e,t){return Object(o.jsx)(_e,{item:e,itemStatus:!0,id:t})}))})})}):Object(o.jsx)("div",{style:It,children:Object(o.jsx)("p",{children:"You have no draft articles."})})]}):Object(o.jsx)("div",{children:Object(o.jsx)("p",{style:It,children:"You have no articles yet."})}):Object(o.jsx)("div",{children:Object(o.jsx)(Je.LoopCircleLoading,{})}),Object(o.jsx)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:Object(o.jsx)("button",{onClick:function(){return e(!1)},style:Object(h.a)(Object(h.a)({},xt),{},{width:"16rem"}),children:"Back to Profile Page"})})]})},Et=Object(H.a)((function(e){return{root:{flexGrow:1,"& > *":{margin:e.spacing(5)}},paper:{height:140,width:100},control:{padding:e.spacing(2)},media:{height:"35vh",boxShadow:"3px 3px 4px #555",borderRadius:"15px"},bioContainer:{margin:"1rem auto",backgroundColor:"#dfe4ea",padding:"0.8rem",lineHeight:"1.5rem",borderRadius:"10px",minWidth:"300px",height:"200px",overflow:"scroll",boxShadow:"3px 3px 4px #555"}}}));function Wt(){var e,t=Object(a.useContext)(l),n=t.storiesOpen,r=t.setStoriesOpen,c=Object(b.g)(),s=Object(a.useState)([]),d=Object(i.a)(s,2),u=d[0],j=d[1],p=Et(),O=Object(a.useState)(!1),f=Object(i.a)(O,2),g=f[0],v=f[1],y=Object(a.useState)(!1),w=Object(i.a)(y,2),k=w[0],C=w[1],S=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,E.a.get("http://fs-blog-backend.herokuapp.com/user/profile",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t?"Token "+t:null}});case 4:n=e.sent,j(n.data),console.log(n.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){S()}),[]);return(null===(e=u.user)||void 0===e?void 0:e.length)?n?Object(o.jsxs)("div",{children:[Object(o.jsx)(de,{}),Object(o.jsx)(Lt,{})]}):Object(o.jsxs)("div",{style:{backgroundColor:"#f6f5f5",width:"auto",overflow:"hidden"},children:[Object(o.jsx)(de,{}),Object(o.jsxs)("div",{className:"flyingButton",style:{top:"80px"},onClick:function(){return c.push("/create")},children:[Object(o.jsx)(Ke.a,{fontSize:"large"}),Object(o.jsx)("div",{className:"createPostContainer",children:"Create a Post"})]}),Object(o.jsx)(Ze.a,{container:!0,className:p.root,spacing:5,justify:"center",children:Object(o.jsxs)(Ze.a,{item:!0,xs:12,children:[Object(o.jsxs)(Ze.a,{container:!0,justify:"center",spacing:5,children:[Object(o.jsxs)("h2",{style:gt,children:[Object(o.jsx)("span",{style:{textTransform:"capitalize"},children:u.user}),"'s Profile Page"]}),Object(o.jsx)(Ze.a,{container:!0,justify:"center",style:{marginBottom:"0.8rem"},children:Object(o.jsx)("img",{src:u.image,alt:"ProfilePicture",className:p.media})}),Object(o.jsx)(Ze.a,{container:!0,justify:"center",children:Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},ft),{},{maxWidth:"380px"}),children:[Object(o.jsxs)("button",{style:Ot,onClick:function(){return C(!0)},children:[Object(o.jsx)(st.a,{fontSize:"small"}),Object(o.jsx)("br",{})," STATS"]}),Object(o.jsxs)("button",{style:Object(h.a)(Object(h.a)({},Ot),{},{marginLeft:"5px",marginRight:"5px",backgroundColor:"#7f8fa6"}),onClick:function(){return r(!0)},children:[Object(o.jsx)(lt.a,{fontSize:"small"}),Object(o.jsx)("br",{})," STORIES"]}),Object(o.jsxs)("button",{style:Object(h.a)(Object(h.a)({},Ot),{},{backgroundColor:"#487eb0"}),onClick:function(){return v(!0)},children:[Object(o.jsx)(ut.a,{fontSize:"small"}),Object(o.jsx)("br",{})," EDIT PROFILE"]}),Object(o.jsxs)("button",{style:Object(h.a)(Object(h.a)({},Ot),{},{marginLeft:"5px",backgroundColor:"#079992"}),onClick:function(){return c.push("/account")},children:[Object(o.jsx)(bt.a,{fontSize:"small"}),Object(o.jsx)("br",{})," ACCOUNT SETTINGS"]})]})}),Object(o.jsx)(Ze.a,{container:!0,xs:6,justify:"center",className:p.bioContainer,children:Object(o.jsx)("p",{style:{textIndent:"30px",alignSelf:"stretch",textAlign:"justify"},children:u.bio})}),Object(o.jsx)(Ze.a,{container:!0,justify:"center",children:Object(o.jsx)(Rt,{open:g,setOpen:v,profile:u,refresh:function(){window.location.reload(!1)}})}),Object(o.jsx)(Ze.a,{container:!0,justify:"center",children:Object(o.jsx)(Pt,{open:k,setOpen:C})}),Object(o.jsx)(Ze.a,{container:!0,xs:10,justify:"center",children:Object(o.jsxs)("button",{style:Object(h.a)(Object(h.a)({},xt),{},{position:"relative"}),onClick:function(){return c.goBack()},children:[Object(o.jsx)(pt.a,{style:{position:"absolute",left:"20%",top:"50%",transform:"translateY(-50%)"},fontSize:"small"}),"\xa0 Back"]})})]}),Object(o.jsx)(Pt,{})]})})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)(de,{}),Object(o.jsx)(Je.LoopCircleLoading,{})]})}var Dt=n(188),Bt=n.n(Dt);function Mt(e){var t=e.openPassword,n=e.setOpenPassword,r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],l=c[1],d=Object(N.a)({initialValues:{oldPassword:void 0,newPassword1:void 0,newPassword2:void 0},validationSchema:I.b({oldPassword:I.d().required("No password provided"),newPassword1:I.d().required("No password provided").min(6,"Should be min 6 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,}$/,"Must contain min one uppercase, one lowercase and one number"),newPassword2:I.d().required("You should confirm the password").oneOf([I.c("newPassword1"),null],"Passwords must match")}),onSubmit:function(e){u(e)}}),u=function(){var e=Object(m.a)(x.a.mark((function e(t){var n,o,a,r,c,s,i,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.oldPassword,o=t.newPassword2,a=localStorage.getItem("token"),e.prev=2,console.log(n,o),e.next=6,E.a.patch("https://fs-blog-backend.herokuapp.com/user/change-password/",{old_password:n,new_password:o},{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a?"Token "+a:null}});case 6:r=e.sent,console.log(r.data),l(r.data),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),(c=e.t0.response)?(console.log(c),alert((null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s.detail)||("Wrong password."==(null===c||void 0===c||null===(i=c.data)||void 0===i?void 0:i.old_password)?"Check your old password":null===c||void 0===c||null===(d=c.data)||void 0===d?void 0:d.old_password))):alert("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){n(!1)},b=Object(o.jsxs)("div",{style:Ct,children:[Object(o.jsx)("div",{style:Object(h.a)(Object(h.a)({},vt),{},{width:"90%"}),children:Object(o.jsx)("h2",{style:yt,children:"Password Change"})}),Object(o.jsxs)("form",{onSubmit:d.handleSubmit,children:[Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},C),{},{marginBottom:"2.5rem"}),children:[Object(o.jsx)("div",{style:A,children:Object(o.jsx)(Bt.a,{fontSize:"small"})}),Object(o.jsx)("input",{id:"oldPassword",name:"oldPassword",style:S,type:"password",placeholder:"Old Password",value:d.values.oldPassword,onChange:d.handleChange}),d.touched.oldPassword&&d.errors.oldPassword?Object(o.jsx)("div",{style:_,children:d.errors.oldPassword}):null]}),Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},C),{},{marginBottom:"2.5rem"}),children:[Object(o.jsx)("div",{style:A,children:Object(o.jsx)(v.a,{fontSize:"small"})}),Object(o.jsx)("input",{id:"newPassword1",name:"newPassword1",style:S,type:"password",placeholder:"New Password",value:d.values.newPassword1,onChange:d.handleChange}),d.touched.newPassword1&&d.errors.newPassword1?Object(o.jsx)("div",{style:_,children:d.errors.newPassword1}):null]}),Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},C),{},{marginBottom:"2.5rem"}),children:[Object(o.jsx)("div",{style:A,children:Object(o.jsx)(v.a,{fontSize:"small"})}),Object(o.jsx)("input",{id:"newPassword2",name:"newPassword2",style:S,type:"password",placeholder:"Confirm Password",value:d.values.newPassword2,onChange:d.handleChange}),d.touched.newPassword2&&d.errors.newPassword2?Object(o.jsx)("div",{style:_,children:d.errors.newPassword2}):null]}),Object(o.jsxs)("div",{style:{height:"5rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"8rem"}),type:"submit",children:"Submit"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"8rem",marginLeft:"12px",backgroundColor:"hsl(34, 80%, 73%)"}),onClick:function(){j(),d.values.oldPassword=void 0,d.values.newPassword1=void 0,d.values.newPassword2=void 0,d.errors.oldPassword="",d.errors.newPassword1="",d.errors.newPassword2=""},children:"Cancel"})]})]})]}),p=Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},Ct),{},{minHeight:"10rem",height:"10rem",textAlign:"center"}),children:[Object(o.jsxs)("p",{style:{color:"green"},children:["\u2705 ",s.message]}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"8rem",alignSelf:"center"}),onClick:function(){j(),l([]),d.values.oldPassword=void 0,d.values.newPassword1=void 0,d.values.newPassword2=void 0},children:"OK"})]});return Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:t,onClose:j,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",hideBackdrop:!0,children:200==s.code?p:b})})}function Ut(e){var t=e.open,n=e.setOpen,r=e.user,c=e.refresh,s=Object(a.useState)([]),l=Object(i.a)(s,2),d=l[0],u=l[1],j=Object(N.a)({initialValues:{new_username:void 0,new_email:r.email,password:void 0},validationSchema:I.b({new_username:I.d().max(15,"Must be 15 characters or less"),new_email:I.d().email("Invalid email address"),password:I.d().required("You must enter the password")}),onSubmit:function(e){b(e)}}),b=function(){var e=Object(m.a)(x.a.mark((function e(t){var n,o,a,c,s,i,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.new_username,o=t.new_email,a=t.password,c=localStorage.getItem("token"),e.prev=2,e.next=5,E.a.put("https://fs-blog-backend.herokuapp.com/user/edit/",{username:void 0===n?r.username:n,email:o,password:a},{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:c?"Token "+c:null}});case 5:s=e.sent,console.log(s.data),u(s.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),(i=e.t0.response)?(console.log(i),500===(null===i||void 0===i?void 0:i.status)?alert("Username or email already exist. Please enter a new username/email"):"Wrong password."===(null===i||void 0===i||null===(l=i.data)||void 0===l?void 0:l.password)?alert("Please check your password"):alert("Something went wrong!")):alert("Something went wrong!");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){n(!1)},O=Object(o.jsx)("div",{style:Ct,children:Object(o.jsxs)("form",{onSubmit:j.handleSubmit,children:[Object(o.jsx)("div",{style:Object(h.a)(Object(h.a)({},vt),{},{width:"90%"}),children:Object(o.jsxs)("h2",{style:yt,children:[r.username,Object(o.jsx)("span",{children:"'s"})," Credentials"]})}),Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},C),{},{marginBottom:"2.5rem"}),children:[Object(o.jsx)("div",{style:Object(h.a)(Object(h.a)({},A),{},{top:"28px"}),children:Object(o.jsx)(f.a,{fontSize:"small"})}),Object(o.jsx)("div",{style:R,children:Object(o.jsx)("label",{htmlFor:"image",children:"New Username"})}),Object(o.jsx)("input",{name:"new_username",style:S,placeholder:r.username,type:"text",value:j.values.new_username,onChange:j.handleChange}),j.touched.new_username&&j.errors.new_username?Object(o.jsx)("div",{style:_,children:j.errors.new_username}):null]}),Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},C),{},{marginBottom:"2.5rem"}),children:[Object(o.jsx)("div",{style:Object(h.a)(Object(h.a)({},A),{},{top:"28px"}),children:Object(o.jsx)(w.a,{fontSize:"small"})}),Object(o.jsx)("div",{style:R,children:Object(o.jsx)("label",{htmlFor:"image",children:"New Email"})}),Object(o.jsx)("input",{name:"new_email",style:S,type:"email",placeholder:r.email,value:j.values.new_email,onChange:j.handleChange}),j.touched.new_email&&j.errors.new_email?Object(o.jsx)("div",{style:_,children:j.errors.new_email}):null]}),Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},C),{},{marginBottom:"2.5rem"}),children:[Object(o.jsx)("div",{style:Object(h.a)(Object(h.a)({},A),{},{top:"28px"}),children:Object(o.jsx)(v.a,{fontSize:"small"})}),Object(o.jsx)("div",{style:R,children:Object(o.jsx)("label",{htmlFor:"image",children:"Password"})}),Object(o.jsx)("input",{id:"password",name:"password",style:S,type:"password",placeholder:"Verify your password",value:j.values.password,onChange:j.handleChange}),j.touched.password&&j.errors.password?Object(o.jsx)("div",{style:_,children:j.errors.password}):null]}),Object(o.jsxs)("div",{style:{height:"5rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"8rem"}),type:"submit",children:"Submit"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"8rem",marginLeft:"12px",backgroundColor:"hsl(34, 80%, 73%)"}),onClick:function(){p(),j.values.new_username=void 0,j.values.new_email=void 0,j.values.password=void 0,j.errors.new_username="",j.errors.new_email="",j.errors.password=""},children:"Cancel"})]})]})}),g=Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},Ct),{},{minHeight:"10rem",height:"10rem",textAlign:"center"}),children:[Object(o.jsxs)("p",{style:{color:"green"},children:["\u2705 ",d.message]}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"8rem",alignSelf:"center"}),onClick:function(){p(),c(),u([]),j.values.new_username=void 0,j.values.new_email=void 0,j.values.password=void 0},children:"OK"})]});return Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:t,onClose:p,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",hideBackdrop:!0,children:d.message?g:O})})}function Yt(e){var t=e.open,n=e.setOpen,r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],d=c[1],u=Object(a.useContext)(l),j=u.setToken,p=u.setUserId,O=Object(b.g)(),f=Object(a.useRef)(),g=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n,o,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(null===f||void 0===f||null===(t=f.current)||void 0===t?void 0:t.value),console.log(localStorage.getItem("token")),e.next=5,E.a.post("https://fs-blog-backend.herokuapp.com/user/edit/",{password:null===f||void 0===f||null===(n=f.current)||void 0===n?void 0:n.value},{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("token")}});case 5:o=e.sent,d(o),console.log(o),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),(a=e.t0.response)?alert(404==(null===a||void 0===a?void 0:a.status)||400==(null===a||void 0===a?void 0:a.status)?"Please enter valid password!":null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message):console.log("Something went wrong!");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=function(){n(!1)},w=Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},Ct),{},{minHeight:"14rem",height:"14rem"}),children:[Object(o.jsxs)("p",{style:{fontSize:"0.9rem",textAlign:"center",color:"tomato",fontWeight:"bold"},children:["\ud83d\ude2e Sure to delete account?",Object(o.jsx)("br",{})," All your posts will be deleted as well!"]}),Object(o.jsxs)("div",{style:C,children:[Object(o.jsx)("div",{style:A,children:Object(o.jsx)(v.a,{fontSize:"small"})}),Object(o.jsx)("input",{style:S,ref:f,name:"password",type:"password",placeholder:"Password"})]}),Object(o.jsxs)("div",{style:{height:"5rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"8rem"}),onClick:g,children:"Yes"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"8rem",marginLeft:"12px",backgroundColor:"hsl(34, 80%, 73%)"}),onClick:function(){return n(!1)},children:"No"})]})]}),k=Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},Ct),{},{minHeight:"9rem",height:"9rem",textAlign:"center"}),children:[Object(o.jsx)("p",{style:{fontSize:"0.9rem",textAlign:"center",color:"tomato",fontWeight:"bold"},children:"Your account is permanently deleted \ud83d\ude14"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"8rem",alignSelf:"center"}),onClick:function(){y(),j(null),p(null),localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("username"),O.push("/")},children:"Ok"})]});return Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:t,onClose:y,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:204==s.status?k:w})})}var Ft=n(453),Ht=n(445),qt=n(444),Vt=n(446),Kt=n(189),Gt=n.n(Kt),Zt=Object(H.a)({table:{width:"100%",backgroundColor:"#ffd384"}}),Jt={width:"60%",maxWidth:"600px",minWidth:"300px",display:"flex",flexDirection:"column",margin:"auto"},$t={width:"100%",fontSize:"1.8rem",color:"#361E39",textAlign:"center",margin:"2rem auto",fontWeight:"bold"},Xt={fontSize:"13px",fontWeight:"bold",padding:"3px 10px"},Qt={fontSize:"13px",padding:"10px"};var en=function(){var e=Zt(),t=Object(b.g)(),n=Object(a.useState)([]),r=Object(i.a)(n,2),c=r[0],s=r[1],l=Object(a.useState)(!1),d=Object(i.a)(l,2),u=d[0],j=d[1],p=Object(a.useState)(!1),O=Object(i.a)(p,2),g=O[0],y=O[1],w=Object(a.useState)(!1),k=Object(i.a)(w,2),C=k[0],S=k[1],z=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,E.a.get("https://fs-blog-backend.herokuapp.com/user/edit/",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t?"Token "+t:null}});case 4:n=e.sent,s(n.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){z()}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{children:[Object(o.jsx)(de,{}),Object(o.jsx)("div",{style:$t,children:Object(o.jsx)("p",{children:"Account Settings"})}),Object(o.jsxs)("div",{style:Jt,children:[Object(o.jsx)(qt.a,{component:te.a,style:{marginBottom:"1rem"},children:Object(o.jsx)(Ft.a,{className:e.table,"aria-label":"simple table",children:Object(o.jsxs)(Ht.a,{children:[Object(o.jsx)(Vt.a,{children:Object(o.jsx)("p",{style:Xt,children:"Username"})}),Object(o.jsx)(Vt.a,{children:Object(o.jsx)("p",{style:Object(h.a)(Object(h.a)({},Qt),{},{textTransform:"capitalize"}),children:null===c||void 0===c?void 0:c.username})}),Object(o.jsx)(Vt.a,{children:Object(o.jsx)("p",{style:Xt,children:"Email"})}),Object(o.jsx)(Vt.a,{children:Object(o.jsx)("p",{style:Qt,children:null===c||void 0===c?void 0:c.email})}),Object(o.jsx)(Vt.a,{children:Object(o.jsx)("p",{style:Xt,children:"Member Since"})}),Object(o.jsx)(Vt.a,{children:Object(o.jsx)("p",{style:Qt,children:we()(null===c||void 0===c?void 0:c.date_joined).format("MMMM Do YYYY, h:mm")})}),Object(o.jsx)(Vt.a,{children:Object(o.jsx)("p",{style:Xt,children:"Last Login"})}),Object(o.jsx)(Vt.a,{children:Object(o.jsx)("p",{style:Qt,children:we()(null===c||void 0===c?void 0:c.last_login).format("MMMM Do YYYY, h:mm")})})]})})}),Object(o.jsx)(Ze.a,{container:!0,justify:"center",children:Object(o.jsx)(Mt,{openPassword:u,setOpenPassword:j})}),Object(o.jsx)(Ze.a,{container:!0,justify:"center",children:Object(o.jsx)(Ut,{open:g,setOpen:y,user:c,refresh:function(){z()}})}),Object(o.jsx)(Ze.a,{container:!0,justify:"center",children:Object(o.jsx)(Yt,{open:C,setOpen:S})}),Object(o.jsxs)("div",{style:ft,children:[Object(o.jsxs)("button",{style:Ot,title:"Change Credentials",onClick:function(){y(!0)},children:[Object(o.jsx)(f.a,{fontSize:"small"}),Object(o.jsx)("br",{})," CHANGE CREDENTIALS"]}),Object(o.jsxs)("button",{style:Object(h.a)(Object(h.a)({},Ot),{},{marginLeft:"10px",marginRight:"10px",backgroundColor:"#3c6382"}),title:"Change Password",onClick:function(){return j(!0)},children:[Object(o.jsx)(v.a,{fontSize:"small"}),Object(o.jsx)("br",{}),"CHANGE PASSWORD"]}),Object(o.jsxs)("button",{style:Object(h.a)(Object(h.a)({},Ot),{},{backgroundColor:"tomato"}),title:"Delete Account",onClick:function(){return S(!0)},children:[Object(o.jsx)(Gt.a,{fontSize:"small"}),Object(o.jsx)("br",{})," DELETE ACCOUNT"]})]})]}),Object(o.jsx)(Ze.a,{container:!0,xs:12,justify:"center",children:Object(o.jsxs)("button",{style:Object(h.a)(Object(h.a)({},xt),{},{position:"relative"}),onClick:function(){return t.goBack()},children:[Object(o.jsx)(pt.a,{style:{position:"absolute",left:"20%",top:"50%",transform:"translateY(-50%)"},fontSize:"small"}),"\xa0 Back"]})})]})})};n(393);function tn(e){var t,n=e.open,a=e.setOpen,r=e.commentContent,c=e.changedContent,s=e.setChangedContent,i=e.refreshData,l=e.slug,d=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.put("https://fs-blog-backend.herokuapp.com/api/".concat(l,"/").concat(r.id,"/comment-edit/"),{content:c},{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("token")}});case 3:t=e.sent,a(!1),i(),console.log(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),(n=e.t0.response)?console.log(null===n||void 0===n?void 0:n.data):console.log("Something went wrong!");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),u=Object(o.jsxs)("div",{style:{position:"absolute",width:"60%",minWidth:"330px",alignContent:"center",outline:"none",top:"30%",left:"50%",transform:"translateX(-50%)",backgroundColor:"#ecf0f1",boxShadow:"2px 2px 5px #636e72",padding:"8px 8px 16px 8px",borderRadius:"6px",display:"flex"},children:[Object(o.jsx)("div",{style:{padding:"6px",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:Object(o.jsx)(Z.a,{alt:"Commenter Avatar",src:null===r||void 0===r?void 0:r.commenter_avatar})}),Object(o.jsxs)("div",{style:{padding:"6px 8px 0 12px",display:"flex",flexDirection:"column",width:"100%"},children:[Object(o.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(o.jsx)(G.a,{style:{fontSize:"14px",color:"#079992",fontWeight:"bold"},children:(t=null===r||void 0===r?void 0:r.commenter_name,"string"!==typeof t?"":t.charAt(0).toUpperCase()+t.slice(1))})}),Object(o.jsx)(G.a,{style:{fontSize:"14px"},children:Object(o.jsx)("textarea",{id:"comment",name:"comment",placeholder:"Share your thoughts...",onChange:function(e){s(e.target.value)},value:c,style:{backgroundColor:"#eae3c8",padding:"8px",paddingLeft:"15px",width:"100%",minWidth:"230px",minHeight:"5rem",fontFamily:"Arial",margin:"1rem auto",borderRadius:"10px",fontSize:"14px",outline:"none",resize:"vertical"}})}),Object(o.jsxs)("div",{style:{height:"5rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(o.jsx)("button",{className:"btn-submit",onClick:d,style:Object(h.a)(Object(h.a)({},z),{},{width:"5rem"}),children:"Submit"}),Object(o.jsx)("button",{className:"btn-cancel",style:Object(h.a)(Object(h.a)({},z),{},{width:"5rem",marginLeft:"1rem",backgroundColor:"hsl(34, 80%, 73%)"}),onClick:function(){return a(!1)},children:"Cancel"})]})]})]});return Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:n,onClose:function(){a(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:u})})}function nn(e){var t=e.open,n=e.setOpen,a=e.commentContent,r=e.refreshData,c=e.slug,s=function(){var e=Object(m.a)(x.a.mark((function e(){var t,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.delete("https://fs-blog-backend.herokuapp.com/api/".concat(c,"/").concat(a.id,"/comment-edit/"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("token")}});case 3:t=e.sent,n(!1),r(),console.log(t.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),(o=e.t0.response)?console.log(o):console.log("Something went wrong!");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),i=Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},Ct),{},{minHeight:"9rem",height:"9rem",textAlign:"center"}),children:[Object(o.jsx)("p",{style:{fontSize:"0.9rem",textAlign:"center",color:"tomato",fontWeight:"bold"},children:"Are you sure to delete the comment?"}),Object(o.jsxs)("div",{className:"buttonContainer",children:[Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"6rem",alignSelf:"center"}),onClick:s,children:"Yes"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"6rem",alignSelf:"center",marginLeft:"1rem",backgroundColor:"hsl(34, 80%, 73%)"}),onClick:function(){return n(!1)},children:Object(o.jsx)("p",{style:{fontSize:"10px"},children:"No"})})]})]});return Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:t,onClose:function(){n(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:i})})}function on(e){var t=e.open,n=e.setOpen,a=e.slug,r=Object(b.g)(),c=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.delete("https://fs-blog-backend.herokuapp.com/api/".concat(a,"/edit/"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("token")}});case 3:e.sent,n(!1),alert("Post deleted successfully."),r.push("/profile"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),(t=e.t0.response)?console.log(t):console.log("Something went wrong!");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),s=Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},Ct),{},{minHeight:"9rem",height:"9rem",textAlign:"center"}),children:[Object(o.jsx)("p",{style:{fontSize:"0.9rem",textAlign:"center",color:"tomato",fontWeight:"bold"},children:"Are you sure to delete the post?"}),Object(o.jsxs)("div",{className:"buttonContainer",children:[Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"6rem",alignSelf:"center"}),onClick:c,children:"Yes"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{width:"6rem",alignSelf:"center",marginLeft:"1rem",backgroundColor:"hsl(34, 80%, 73%)"}),onClick:function(){return n(!1)},children:Object(o.jsx)("p",{style:{fontSize:"10px"},children:"No"})})]})]});return Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:t,onClose:function(){n(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:s})})}var an=n(447),rn=n(190),cn=n.n(rn),sn=n(129),ln=n.n(sn),dn=n(192),un=n.n(dn),jn=n(191),bn=n.n(jn),hn=n(193),pn=n.n(hn),xn=Object(H.a)({root:{minWidth:"300px",maxWidth:"60vw",margin:"20px auto",pointerEvents:"none"},media:{height:300,cursor:"default"},title:{color:"tomato",textAlign:"center",fontSize:"1.8rem",fontWeight:"bold",margin:"1.6rem auto"},module:{fontSize:"1rem",lineHeight:"1.5rem",textAlign:"justify",cursor:"default"},image:{padding:3,pointerEvents:"all"},avatar:{marginBottom:"0.35em"},small:{pointerEvents:"all",cursor:"pointer"}}),mn=function(){var e=Object(a.useContext)(l),t=e.userId,n=(e.setUserId,Object(a.useRef)("")),r=Object(b.i)().slug,c=Object(a.useState)([]),s=Object(i.a)(c,2),d=s[0],u=s[1],j=Object(a.useState)(""),p=Object(i.a)(j,2),O=p[0],f=p[1],g=Object(a.useState)(!1),v=Object(i.a)(g,2),y=v[0],w=v[1],k=Object(a.useState)(!1),C=Object(i.a)(k,2),S=C[0],z=C[1],A=Object(a.useState)(!1),R=Object(i.a)(A,2),_=R[0],P=R[1],T=Object(a.useState)([]),N=Object(i.a)(T,2),I=N[0],L=N[1],W=Object(a.useState)(""),D=Object(i.a)(W,2),B=D[0],M=D[1],U=xn(),Y=Object(b.g)(),F=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,E.a.get("https://fs-blog-backend.herokuapp.com/api/".concat(r,"/post-detail/"),{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t?"Token "+t:null}});case 4:n=e.sent,u(n.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),H=d.title,q=d.content,V=d.image_URL,$=(d.category,d.publish_date,d.update_date,d.author),X=d.author_name,Q=d.author_avatar,ee=d.status,te=d.is_liked,ne=d.comment_count,oe=d.like_count,ae=d.view_count,re=d.comments,ce=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("https://fs-blog-backend.herokuapp.com/api/".concat(r,"/like/"),null,{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("token")}});case 3:F(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),(t=e.t0.response)?console.log(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.like_count):console.log("Something went wrong!");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.put("https://fs-blog-backend.herokuapp.com/api/".concat(r,"/edit/"),{status:"published",author_avatar:$,content:q,image_URL:V,title:H},{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("token")}});case 3:alert("Your post is published!"),F(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(t=e.t0.response)?console.log(null===t||void 0===t?void 0:t.data):console.log("Something went wrong!");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(m.a)(x.a.mark((function e(t){var n,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==(null===t||void 0===t?void 0:t.charCode)){e.next=12;break}return e.prev=1,e.next=4,E.a.post("https://fs-blog-backend.herokuapp.com/api/".concat(r,"/comment-create/"),{content:O},{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("token")}});case 4:f(""),F(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),(n=e.t0.response)?console.log(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.comment_count):console.log("Something went wrong!");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.post("https://fs-blog-backend.herokuapp.com/api/".concat(r,"/comment-create/"),{content:O},{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token "+localStorage.getItem("token")}});case 3:f(""),F(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(t=e.t0.response)?console.log(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.comment_count):console.log("Something went wrong!");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),je=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)};Object(a.useEffect)((function(){F()}),[]);var xe=function(){F()},Oe=function(e){Y.push("/user-detail/".concat(e))};return Object(o.jsxs)("div",{children:[Object(o.jsx)(de,{}),Object(o.jsxs)(ue.a,{className:U.root,children:[Object(o.jsxs)(an.a,{children:[Object(o.jsx)(be.a,{className:U.media,image:V,title:H}),Object(o.jsxs)(he.a,{children:[Object(o.jsx)(G.a,{className:U.title,children:H}),Object(o.jsxs)("div",{style:{border:"1px solid #719fb0",display:"flex",borderRadius:"10px",justifyContent:"space-between",marginBottom:"2rem",padding:"8px"},children:[Object(o.jsxs)(pe.a,{style:{display:"flex",alignItems:"center"},children:[Object(o.jsx)(Z.a,{alt:"User Avatar",src:Q,className:U.small,onClick:function(){return Oe(X)}}),Object(o.jsx)(G.a,{onClick:function(){return Oe(X)},style:{fontSize:"18px",color:"#079992",fontWeight:"bold",marginLeft:"1rem",pointerEvents:"stroke"},children:je(X)})]}),Object(o.jsx)("div",{style:{display:"flex",alignItems:"flex-end"},children:Object(o.jsx)(G.a,{style:{textAlign:"right",fontSize:"13px",color:"#3c6382"},children:we()(null===d||void 0===d?void 0:d.publish_date).format("mm:ss")===we()(null===d||void 0===d?void 0:d.update_date).format("mm:ss")?we()(null===d||void 0===d?void 0:d.publish_date).format("MMM Do YYYY, hh:mm"):we()(null===d||void 0===d?void 0:d.update_date).format("MMM Do YYYY, hh:mm")+" (edited)"})})]}),Object(o.jsx)("p",{className:U.module,children:q})]})]}),Object(o.jsxs)(pe.a,{children:[Object(o.jsx)(K.a,{"aria-label":"add to favorites",className:U.image,onClick:ce,children:Object(o.jsx)(me.a,{color:te?"secondary":"primary"})}),Object(o.jsx)(G.a,{variant:"body2",color:"textSecondary",children:oe}),Object(o.jsx)(K.a,{"aria-label":"view count",className:U.image,children:Object(o.jsx)(fe.a,{})}),Object(o.jsx)(G.a,{variant:"body2",color:"textSecondary",children:ae}),Object(o.jsx)(K.a,{"aria-label":"comment count",className:U.image,children:Object(o.jsx)(cn.a,{})}),Object(o.jsx)(G.a,{variant:"body2",color:"textSecondary",children:ne})]}),Object(o.jsx)(Ze.a,{container:!0,justify:"center",children:Object(o.jsx)(tn,{open:_,setOpen:P,commentContent:I,changedContent:B,setChangedContent:M,refreshData:xe,slug:r})}),Object(o.jsx)(Ze.a,{container:!0,justify:"center",children:Object(o.jsx)(nn,{open:y,setOpen:w,commentContent:I,refreshData:xe,slug:r})}),Object(o.jsxs)(he.a,{style:{pointerEvents:"all"},children:[Object(o.jsx)(G.a,{style:{fontSize:"1.5rem",color:"#079992",fontWeight:"bold",textAlign:"center",marginBottom:"1.5rem"},children:"Comments"}),(null===re||void 0===re?void 0:re.length)?re.sort((function(e,t){return e.id-t.id})).map((function(e){return Object(o.jsxs)("div",{style:{backgroundColor:"#ecf0f1",marginBottom:"12px",padding:"5px",paddingLeft:"8px",borderRadius:"6px",display:"flex",boxShadow:"2px 2px 5px #636e72"},children:[Object(o.jsx)("div",{style:{padding:"6px",display:"flex",justifyContent:"flex-start",alignItems:"top"},children:Object(o.jsx)(Z.a,{alt:"Commenter Avatar",src:null===e||void 0===e?void 0:e.commenter_avatar,className:U.small,onClick:function(){return Oe(null===e||void 0===e?void 0:e.commenter_name)}})}),Object(o.jsxs)("div",{style:{paddingLeft:"12px",paddingRight:"8px",width:"100%"},children:[Object(o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(o.jsx)("div",{children:Object(o.jsx)(G.a,{onClick:function(){return Oe(null===e||void 0===e?void 0:e.commenter_name)},style:{fontSize:"14px",color:"#079992",fontWeight:"bold",cursor:"pointer"},children:je(null===e||void 0===e?void 0:e.commenter_name)})}),console.log("id: ",e.id),e.commenter==t?Object(o.jsxs)("div",{children:[Object(o.jsx)(K.a,{size:"small",onClick:function(){P(!0),L(e),M(e.content)},children:Object(o.jsx)(ut.a,{style:{width:"1.2rem",height:"1.2rem",color:"green"}})}),Object(o.jsx)(K.a,{size:"small",style:{marginLeft:"1rem"},onClick:function(){w(!0),L(e)},children:Object(o.jsx)(ln.a,{style:{width:"1.2rem",height:"1.2rem",color:"tomato"}})})]}):null]}),Object(o.jsx)(G.a,{style:{fontSize:"14px"},children:null===e||void 0===e?void 0:e.content}),Object(o.jsx)(G.a,{style:{textAlign:"right",fontSize:"11px",color:"#3c6382"},children:we()(null===e||void 0===e?void 0:e.time_stamp).format("mm:ss")===we()(null===e||void 0===e?void 0:e.edit_time).format("mm:ss")?we()(null===e||void 0===e?void 0:e.time_stamp).format("MMM Do YYYY, h:mm"):we()(null===e||void 0===e?void 0:e.edit_time).format("MMM Do YYYY, h:mm")+" (edited)"})]})]},e.time_stamp)})):"No comments",Object(o.jsx)("textarea",{ref:n,id:"comment",name:"comment",label:"Add a comment",placeholder:"Share your thoughts...",value:O,onChange:function(e){f(e.target.value)},onKeyPress:ie,style:{backgroundColor:"#eae3c8",padding:"8px",paddingLeft:"15px",width:"100%",minHeight:"80px",fontFamily:"Arial",margin:"1rem auto",borderRadius:"10px",fontSize:"14px",outline:"none",resize:"vertical"}}),Object(o.jsx)(J.a,{onClick:function(){le()},variant:"contained",style:{backgroundColor:"green"},children:Object(o.jsx)(bn.a,{style:{color:"#fff"}})})]})]}),Object(o.jsx)(Ge.a,{display:"flex",justifyContent:"center",m:1,p:1,bgcolor:"background.paper",children:$==t&&Object(o.jsxs)(o.Fragment,{children:[$==t&&"draft"==ee&&Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(Ge.a,{p:1,children:Object(o.jsxs)("button",{style:Ot,onClick:function(){return se()},children:[Object(o.jsx)(un.a,{}),Object(o.jsx)("br",{}),"PUBLISH POST"]})})}),Object(o.jsx)(Ge.a,{p:1,children:Object(o.jsxs)("button",{style:Object(h.a)(Object(h.a)({},Ot),{},{backgroundColor:"#3c6382"}),onClick:function(){return Y.push({pathname:"/edit/".concat(r),state:{postedItem:d}})},children:[Object(o.jsx)(ut.a,{}),Object(o.jsx)("br",{}),"EDIT POST"]})}),Object(o.jsx)(Ge.a,{p:1,children:Object(o.jsxs)("button",{onClick:function(){return z(!0)},style:Object(h.a)(Object(h.a)({},Ot),{},{backgroundColor:"tomato"}),children:[Object(o.jsx)(ln.a,{}),Object(o.jsx)("br",{}),"DELETE POST"]})}),Object(o.jsx)(on,{open:S,setOpen:z,slug:r})]})}),Object(o.jsx)("div",{style:Object(h.a)(Object(h.a)({},ft),{},{justifyContent:"center"}),children:Object(o.jsx)("button",{onClick:function(){return Y.push("/home")},style:xt,children:"Back"})}),Object(o.jsx)("div",{style:{position:"fixed",bottom:"2.5rem",right:"1.5rem",borderRadius:"50%",backgroundColor:"#99bbad"},children:Object(o.jsx)(K.a,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{boxShadow:"4px 3px 5px grey"},children:Object(o.jsx)(pn.a,{style:{width:"1.6rem",height:"1.6rem",color:"white"}})})})]})};function On(e){var t=e.username,n=e.open,r=e.setOpen,c=Object(a.useState)([]),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Object(a.useState)([]),j=Object(i.a)(u,2),b=j[0],p=j[1],O=Object(a.useState)({publishedCount:0,totalCommentCount:0,totalViewCount:0,totalLikeCount:0}),f=Object(i.a)(O,2),g=f[0],v=f[1],y=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,E.a.get("https://fs-blog-backend.herokuapp.com/api/post-list/",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t?"Token "+t:null}});case 4:n=e.sent,d(n.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=Object(o.jsxs)("div",{style:Object(h.a)(Object(h.a)({},Ct),{},{minHeight:"360px",height:"360px"}),children:[Object(o.jsx)("div",{style:vt,children:Object(o.jsxs)("h2",{style:yt,children:[t,"'s Stats"]})}),Object(o.jsxs)("table",{style:{borderCollapse:"collapse"},children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"All stories"}),Object(o.jsx)("td",{children:b.length})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Published stories"}),Object(o.jsx)("td",{children:g.publishedCount})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Draft stories"}),Object(o.jsx)("td",{children:b.length-g.publishedCount})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Post views"}),Object(o.jsx)("td",{children:g.totalViewCount})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Received comments"}),Object(o.jsx)("td",{children:g.totalCommentCount})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Received likes"}),Object(o.jsx)("td",{children:g.totalLikeCount})]})]})]});return Object(a.useEffect)((function(){y()}),[]),Object(a.useEffect)((function(){!function(){var e=l.filter((function(e){return e.author_name==t}));console.log(e),p(e)}()}),[l]),Object(a.useEffect)((function(){!function(){var e=0,t=0,n=0,o=b.filter((function(e){return"published"==e.status}));!function(){var t,n=Object(_t.a)(b);try{for(n.s();!(t=n.n()).done;){var o=t.value;e+=o.comment_count}}catch(a){n.e(a)}finally{n.f()}}(),function(){var e,n=Object(_t.a)(b);try{for(n.s();!(e=n.n()).done;){var o=e.value;t+=o.view_count}}catch(a){n.e(a)}finally{n.f()}}(),function(){var e,t=Object(_t.a)(b);try{for(t.s();!(e=t.n()).done;){var o=e.value;n+=o.like_count}}catch(a){t.e(a)}finally{t.f()}}(),v(Object(h.a)(Object(h.a)({},g),{},{publishedCount:o.length,totalCommentCount:e,totalViewCount:t,totalLikeCount:n}))}()}),[b]),Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:n,onClose:function(){r(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:w})})}var fn=n(41),gn=n(194),vn=n.n(gn),yn=n(195),wn=n.n(yn),kn=n(21),Cn=n(20),Sn="ws://fs-blog-backend.herokuapp.com/ws/chat/",zn=function(){function e(){Object(kn.a)(this,e),this.callbacks={},this.socketRef=null}return Object(Cn.a)(e,null,[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),Object(Cn.a)(e,[{key:"connect",value:function(){var e=this,t=Sn;this.socketRef=new WebSocket(t),this.socketRef.onopen=function(){console.log("WebSocket open")},this.socketRef.onmessage=function(t){e.socketNewMessage(t.data)},this.socketRef.onerror=function(e){console.log(e.message)},this.socketRef.onclose=function(){console.log("WebSocket closed let's reopen"),e.connect()}}},{key:"socketNewMessage",value:function(e){var t=JSON.parse(e),n=t.command;0!==Object.keys(this.callbacks).length&&("messages"===n&&this.callbacks[n](t.messages),"new_message"===n&&this.callbacks[n](t.message))}},{key:"initChatUser",value:function(e){this.sendMessage({command:"init_chat",username:e})}},{key:"fetchMessages",value:function(e,t){this.sendMessage({command:"fetch_messages",username:e,receiver:t})}},{key:"newChatMessage",value:function(e){this.sendMessage({command:"new_message",from:e.from,to:e.to,text:e.text})}},{key:"addCallbacks",value:function(e,t){this.callbacks.messages=e,this.callbacks.new_message=t}},{key:"sendMessage",value:function(e){try{this.socketRef.send(JSON.stringify(Object(h.a)({},e)))}catch(t){console.log(t.message)}}},{key:"state",value:function(){return this.socketRef.readyState}},{key:"waitForSocketConnection",value:function(e){var t=this.socketRef,n=this.waitForSocketConnection;setTimeout((function(){if(1===t.readyState)return console.log("Connection is made"),void(null!=e&&e());console.log("wait for connection..."),n(e)}),1)}}]),e}();zn.contextType=l,zn.instance=null;var An=zn.getInstance(),Rn={display:"flex",padding:"0.4rem",backgroundColor:"#27a31c",borderRadius:"0.6rem",marginBottom:"0.5rem"};function _n(e){var t=e.open,n=e.setOpen,r=e.sender,c=e.receiver,s=e.senderObj,l=e.receiverObj,d=Object(a.useState)(""),u=Object(i.a)(d,2),j=u[0],b=u[1],p=Object(a.useState)([]),O=Object(i.a)(p,2),f=O[0],g=O[1],v=Object(a.useState)([]),y=Object(i.a)(v,2),w=y[0],k=y[1],C=Object(a.useState)([]),S=Object(i.a)(C,2),z=S[0],A=S[1],R=Object(a.useRef)();function _(){setTimeout((function(){if(1===An.state())return console.log("Connection is made"),An.initChatUser(r),An.addCallbacks(T,P),void An.fetchMessages(r,c);console.log("wait for connection..."),_()}),100)}function P(e){k([].concat(Object(fn.a)(w),[e])),g(e)}function T(e){k(e.reverse())}var N=function(){var e=w.filter((function(e){return e.author===r&&e.receiver===c||e.author===c&&e.receiver===r}));A(e)},I=Object(a.useRef)(null);Object(a.useEffect)((function(){!function(){var e;null===(e=I.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}(),console.log(z)}),[w]),Object(a.useEffect)((function(){_(),N()}),[f]),Object(a.useEffect)((function(){(function(){var e=Object(m.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An.connect();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),_(),N()}),[t]);var L=function(){n(!1)},E=Object(o.jsxs)("div",{style:{position:"absolute",width:"30%",minWidth:"300px",alignContent:"center",height:"70vh",border:"1px solid #30336b",top:"15%",right:"5%",backgroundColor:"rgba(199, 236, 238,0.9)",padding:"1rem",borderRadius:"20px",outline:"none"},children:[Object(o.jsxs)("div",{style:{height:"75%",overflow:"auto",position:"relative",top:"4%"},children:[(null===z||void 0===z?void 0:z.length)?z.map((function(e){return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{style:(null===e||void 0===e?void 0:e.author)===s.user?Rn:Object(h.a)(Object(h.a)({},Rn),{},{backgroundColor:"#22a6b3"}),children:[Object(o.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingRight:"0.5rem"},children:[Object(o.jsx)(Z.a,{alt:"Commenter Avatar",src:(null===e||void 0===e?void 0:e.author)===s.user?null===s||void 0===s?void 0:s.image:null===l||void 0===l?void 0:l.image}),Object(o.jsx)(G.a,{style:{fontSize:"12px",color:"#FFF",fontWeight:"bold",marginLeft:"6px"},children:(t=null===e||void 0===e?void 0:e.author,"string"!==typeof t?"":t.charAt(0).toUpperCase()+t.slice(1))})]}),Object(o.jsxs)("div",{style:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",borderLeft:"1px solid #FFF",paddingLeft:"0.5rem"},children:[Object(o.jsx)(G.a,{style:{fontSize:"12px",color:"#fff"},children:null===e||void 0===e?void 0:e.content}),Object(o.jsx)(G.a,{style:{textAlign:"right",fontSize:"11px",color:"#000"},children:we()(null===e||void 0===e?void 0:e.created_at).format("MMMM Do YYYY, h:mm")})]})]})});var t})):null,Object(o.jsx)("div",{ref:I})]}),Object(o.jsx)(G.a,{style:{fontSize:"12px",position:"absolute",bottom:"3%",left:"5%",width:"90%"},children:Object(o.jsx)("textarea",{ref:R,id:"message",name:"message",label:"Send message",placeholder:"Type something...",onChange:function(e){b(e.target.value)},style:{backgroundColor:"#eae3c8",padding:"8px",paddingLeft:"15px",width:"100%",minHeight:"5rem",fontFamily:"Arial",margin:"1rem auto 0 auto",borderRadius:"10px",fontSize:"14px",outline:"none",resize:"vertical"}})}),Object(o.jsxs)("div",{className:"buttonContainer",style:{height:"1rem"},children:[Object(o.jsx)(vn.a,{onClick:function(){!function(){var e={from:r,to:c,text:j};An.newChatMessage(e),b("")}(),R.current.value=""},style:{position:"absolute",bottom:"5%",right:"6%",cursor:"pointer",color:"green"}}),Object(o.jsx)(wn.a,{onClick:L,style:{position:"absolute",top:"-0.4rem",right:"-0.4rem",fill:"red",cursor:"pointer",fontSize:"1.8rem"}})]})]});return Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:t,onClose:L,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",hideBackdrop:!0,children:E})})}var Pn=n(196),Tn=n.n(Pn),Nn=Object(H.a)((function(e){return{root:{flexGrow:1,"& > *":{margin:e.spacing(5)}},paper:{height:140,width:100},control:{padding:e.spacing(2)},media:{height:"35vh",boxShadow:"3px 3px 4px #555",borderRadius:"15px"},bioContainer:{margin:"1rem auto",backgroundColor:"#dfe4ea",padding:"0.8rem",lineHeight:"1.5rem",borderRadius:"10px",minWidth:"300px",height:"200px",overflow:"scroll",boxShadow:"3px 3px 4px #555"}}}));var In=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),s=Object(i.a)(c,2),l=s[0],d=s[1],u=Object(a.useState)(!0),j=Object(i.a)(u,2),p=j[0],O=j[1],f=Object(a.useState)(!1),g=Object(i.a)(f,2),v=g[0],y=g[1],w=Object(a.useState)(!1),k=Object(i.a)(w,2),C=k[0],S=k[1],z=Object(a.useState)([]),A=Object(i.a)(z,2),R=A[0],_=A[1],P=Object(b.g)(),T=Object(b.i)().username,N=Nn(),I=localStorage.getItem("username"),L=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n,o,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,E.a.get("https://fs-blog-backend.herokuapp.com/user/profile-list/",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t?"Token "+t:null}});case 4:n=e.sent,o=n.data.filter((function(e){return e.user===T})),r(o),a=n.data.filter((function(e){return e.user===I})),_(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(x.a.mark((function e(){var t,n,o,a,r=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"https://fs-blog-backend.herokuapp.com/api/post-list/",e.prev=1,e.next=4,E.a.get(t);case 4:n=e.sent,o=null===n||void 0===n?void 0:n.data,a=o.filter((function(e){return"published"===e.status&&e.author_name===T})),d(a),console.log(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response?console.log("No data"):console.log("Something went wrong!");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){L(),W(),setTimeout((function(){O(!1)}),2e3)}),[]),(null===n||void 0===n?void 0:n.length)?Object(o.jsxs)("div",{style:{backgroundColor:"#f6f5f5",width:"auto",overflow:"hidden"},children:[Object(o.jsx)(de,{}),Object(o.jsx)(Ze.a,{container:!0,className:N.root,spacing:5,justify:"center",children:Object(o.jsxs)(Ze.a,{item:!0,xs:12,children:[Object(o.jsxs)(Ze.a,{container:!0,justify:"center",spacing:5,children:[Object(o.jsx)(Ze.a,{container:!0,justify:"center",style:{marginBottom:"0.8rem"},children:Object(o.jsx)("h2",{style:{margin:"2rem auto"},children:Object(o.jsx)("span",{style:{textTransform:"capitalize"},children:n[0].user})})}),Object(o.jsxs)(Ze.a,{container:!0,justify:"center",style:{marginBottom:"0.8rem"},children:[Object(o.jsx)("img",{src:n[0].image,alt:"ProfilePicture",className:N.media}),Object(o.jsxs)("div",{style:{width:"4rem",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(o.jsxs)("button",{style:Object(h.a)(Object(h.a)({},Ot),{},{width:"100%",height:"45%",marginLeft:"1rem"}),onClick:function(){return y(!0)},children:[Object(o.jsx)(st.a,{fontSize:"small"}),Object(o.jsx)("br",{})," STATS"]}),Object(o.jsxs)("button",{style:Object(h.a)(Object(h.a)({},Ot),{},{width:"100%",height:"45%",marginLeft:"1rem",backgroundColor:"#10ac84"}),onClick:function(){return S(!0)},children:[Object(o.jsx)(Tn.a,{fontSize:"small"}),Object(o.jsx)("br",{})," CHAT"]})]}),Object(o.jsx)(On,{username:T,open:v,setOpen:y})]}),Object(o.jsx)(Ze.a,{container:!0,xs:6,justify:"center",className:N.bioContainer,children:Object(o.jsx)("p",{style:{textIndent:"30px",alignSelf:"stretch",textAlign:"justify"},children:n[0].bio})})]}),I===n[0].user?null:Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(_n,{open:C,setOpen:S,sender:I,receiver:n[0].user,senderObj:R[0],receiverObj:n[0]})}),Object(o.jsxs)(Ze.a,{container:!0,justify:"center",spacing:5,style:{marginTop:"2rem"},children:[Object(o.jsxs)(Ze.a,{container:!0,justify:"center",spacing:5,children:[Object(o.jsx)(Ze.a,{container:!0,justify:"center",style:{margin:"2rem auto"},children:Object(o.jsxs)("h2",{style:{textTransform:"capitalize"},children:[T,"'s posts"]})}),l.length?l.map((function(e,t){return Object(o.jsx)(_e,{item:e,itemStatus:!1,id:t})})):p?Object(o.jsx)("div",{style:{position:"relative"},children:Object(o.jsx)(Je.LoopCircleLoading,{})}):Object(o.jsx)("div",{children:Object(o.jsxs)("p",{style:{textAlign:"center",fontWeight:"bold"},children:['"',T,'" has no article yet.']})})]}),Object(o.jsx)(Ge.a,{p:9,children:Object(o.jsx)("button",{onClick:function(){return P.goBack()},style:xt,children:"Back"})})]})]})})]}):Object(o.jsxs)("div",{children:[Object(o.jsx)(de,{}),Object(o.jsx)(Je.LoopCircleLoading,{})]})},Ln={margin:"2rem auto",width:"240px",height:"2.5rem",backgroundColor:"#ffda79",borderRadius:"20px",textAlign:"center",padding:"0px",outline:"none"};function En(){var e=Object(a.useRef)(),t=Object(a.useState)([]),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)([]),l=Object(i.a)(s,2),d=l[0],u=l[1],j=function(){var e=Object(m.a)(x.a.mark((function e(t){var n,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,E.a.post("https://fs-blog-backend.herokuapp.com/user/reset-password/",{email:t});case 4:n=e.sent,c(n.data),console.log(n.data.success),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),(o=e.t0.response)?u(o.data.error):alert("Something went wrong!");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{style:{backgroundColor:"#f0f0f0",height:"100vh"},children:[Object(o.jsx)(de,{}),Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},children:[Object(o.jsx)("h2",{style:{margin:"2rem auto"},children:"Password Reset"}),r.success?Object(o.jsx)("p",{style:{fontWeight:"bold",color:"#009432"},children:"\u2705 A password reset email has been sent to your email account."}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("label",{children:"Enter your email"}),Object(o.jsx)("input",{type:"email",ref:e,onKeyDown:function(t){var n;"Enter"===t.key&&(j(null===e||void 0===e||null===(n=e.current)||void 0===n?void 0:n.value),e.current.value="")},style:Ln}),Object(o.jsx)("button",{style:mt,onClick:function(){var t;j(null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.value)},children:"Send"}),(null===d||void 0===d?void 0:d.length)?Object(o.jsx)("p",{style:{color:"red",marginTop:"1rem"},children:"This email is not registered to any user"}):null]})]})]})}var Wn={margin:"2rem auto",width:"240px",height:"2.5rem",backgroundColor:"#ffda79",borderRadius:"20px",textAlign:"center",padding:"0px",outline:"none"},Dn={padding:"10px",outline:"none",border:"0",borderRadius:"20px",cursor:"pointer",width:"10rem",fontSize:"1rem",fontWeight:"bold",backgroundColor:"#83acf1",color:"#fff",marginTop:"1.5rem"};function Bn(e){var t=e.open,n=e.setOpen,a=function(){n(!1)},r=Object(o.jsxs)("div",{style:{width:"33rem",position:"absolute",top:"8rem",left:"50%",transform:"translateX(-50%)",backgroundColor:"#eaffd0",fontSize:"12px",padding:"10px",borderRadius:"10px",border:"1px solid gray",outline:"none",fontFamily:"courier",textAlign:"center",display:"flex",justifyContent:"space-around"},children:[Object(o.jsx)("div",{children:"Password must be at least 6 characters, contain minimum one uppercase, one lowercase and one number!"}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:a,style:{width:"2rem",height:"2rem",borderRadius:"50%",border:"2px solid tomato",outline:"none",cursor:"pointer"},children:"\u2714\ufe0f"})})]});return Object(o.jsx)("div",{children:Object(o.jsx)(wt.a,{open:t,onClose:a,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:r})})}function Mn(){var e,t,n,r=Object(b.i)(),c=r.uidb64,s=r.token,l=Object(a.useState)([]),d=Object(i.a)(l,2),u=d[0],j=d[1],p=Object(a.useState)({password_first:"",password_second:""}),O=Object(i.a)(p,2),f=O[0],g=O[1],v=Object(a.useState)(!0),y=Object(i.a)(v,2),w=y[0],k=y[1],C=Object(a.useRef)(),S=Object(b.g)();var z=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,}$/;function A(e){var t;return!(f.password_first!==f.password_second||!z.test(null===C||void 0===C||null===(t=C.current)||void 0===t?void 0:t.value))}var R=function(){var e=Object(m.a)(x.a.mark((function e(t){var n,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A()){e.next=16;break}return e.prev=1,console.log(t),e.next=5,E.a.patch("https://fs-blog-backend.herokuapp.com/user/reset-password-complete/",{password:t,uidb64:c,token:s});case 5:n=e.sent,console.log(n.data),j(n.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),(o=e.t0.response)?alert(null===o||void 0===o?void 0:o.data.password):alert("Something went wrong!");case 14:e.next=17;break;case 16:j("Password do not match.");case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{style:{backgroundColor:"#f0f0f0",height:"100vh"},children:[Object(o.jsx)(de,{}),Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},children:[Object(o.jsx)("h2",{style:{margin:"2rem auto 4.5rem"},children:"Create New Password"}),Object(o.jsx)(Bn,{open:w,setOpen:k}),u.success?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{style:{fontWeight:"bold",color:"#009432"},children:"\u2705 Password is successfully changed. Now, you can login."}),Object(o.jsx)("button",{onClick:function(){return S.push("/")},style:Dn,children:"Go to Login Page"})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("label",{children:"Enter your new password"}),Object(o.jsx)("input",{type:"password",onChange:function(e){return function(e){g((function(t){return Object(h.a)(Object(h.a)({},t),{},{password_first:e})}))}(e.target.value)},style:Wn}),Object(o.jsx)("label",{children:"Re-enter your new password"}),Object(o.jsx)("input",{type:"password",ref:C,onChange:function(e){return function(e){g((function(t){return Object(h.a)(Object(h.a)({},t),{},{password_second:e})}))}(e.target.value)},style:function(e){var t;return(null===(t=f.password_first)||void 0===t?void 0:t.indexOf(e))==(null===e||void 0===e?void 0:e.indexOf(e))}(null===C||void 0===C||null===(e=C.current)||void 0===e?void 0:e.value)||void 0===(null===C||void 0===C||null===(t=C.current)||void 0===t?void 0:t.value)?Wn:Object(h.a)(Object(h.a)({},Wn),{},{borderColor:"red"})}),Object(o.jsx)("button",{onClick:function(){R(f.password_second)},style:Dn,disabled:!A(null===C||void 0===C||null===(n=C.current)||void 0===n||n.value),children:"Send"})]})]})]})}var Un=n(448),Yn={width:"100%",margin:"1rem auto"},Fn={width:"100%",padding:"1rem",outline:"none",minHeight:"40vh",borderRadius:"1rem",margin:"1rem auto",resize:"vertical"},Hn={width:"100%",position:"relative"},qn={width:"100%",position:"relative",display:"flex",flexDirection:"column",paddingTop:"1rem"},Vn={color:"#6e7c7c",width:"6rem",fontSize:"14px",margin:"0.3rem"};var Kn=function(){var e=Object(b.g)(),t=function(){var t=Object(m.a)(x.a.mark((function t(n){var o,a,r,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!0===n.status?n.status="published":n.status="draft",t.prev=1,t.next=4,W("api/post-create/",n);case 4:alert("Post created successfully!"),e.goBack(),t.next=12;break;case 8:if(t.prev=8,t.t0=t.catch(1),o=t.t0.response){for(c in a=o.data,r=[],a)r.push("\n ".concat(c,": ").concat(a[c]));alert(r)}else console.log("Something went wrong!");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),n=Object(N.a)({initialValues:{title:"",content:"",image_URL:"",category:void 0,status:!1},validationSchema:I.b({title:I.d().max(100,"Must be 100 characters or less").required("Title is required"),content:I.d().required("Content is required"),image_URL:I.d().required("Image URL is required"),category:I.d().required("Category option is required"),status:I.a()}),onSubmit:function(e){t(e)}});return Object(o.jsxs)("div",{style:{backgroundColor:"#f6f5f5",minHeight:"100vh",overflow:"hidden"},children:[Object(o.jsx)(de,{}),Object(o.jsx)("h2",{style:gt,children:"Create a Post"}),Object(o.jsxs)("form",{onSubmit:n.handleSubmit,style:{width:"40vw",minWidth:"300px",borderRadius:"1.2rem",height:"auto",backgroundColor:"#f0e4d7",margin:"2rem auto",padding:"2rem",display:"flex",flexDirection:"column"},children:[Object(o.jsxs)("div",{style:Hn,children:[Object(o.jsx)(Un.a,{name:"title",className:"inp",style:Yn,placeholder:"Title",value:n.values.title,onChange:n.handleChange}),n.touched.title&&n.errors.title?Object(o.jsx)("div",{style:_,children:n.errors.title}):null]}),Object(o.jsxs)("div",{style:Hn,children:[Object(o.jsx)(Un.a,{name:"image_URL",className:"inp",style:Yn,placeholder:"Image URL",value:n.values.image_URL,onChange:n.handleChange}),n.touched.image_URL&&n.errors.image_URL?Object(o.jsx)("div",{style:_,children:n.errors.image_URL}):null]}),Object(o.jsxs)("div",{style:Hn,children:[Object(o.jsx)("textarea",{name:"content",className:"inp",style:Fn,type:"textarea",placeholder:"Write the content here....",value:n.values.content,onChange:n.handleChange}),n.touched.content&&n.errors.content?Object(o.jsx)("div",{style:_,children:n.errors.content}):null]}),Object(o.jsxs)("div",{style:qn,children:[Object(o.jsx)("div",{children:Object(o.jsxs)("label",{style:{color:"#6e7c7c",fontSize:"14px"},htmlFor:"category",children:[" ","Select a category :"]})}),Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",margin:"0.5rem auto 0.5rem 1rem"},children:[Object(o.jsxs)("label",{style:Vn,children:[Object(o.jsx)("input",{type:"radio",name:"category",checked:"1"===n.values.category,value:"1",onChange:n.handleChange}),"\xa0Cloud"]}),Object(o.jsxs)("label",{style:Vn,children:[Object(o.jsx)("input",{type:"radio",name:"category",checked:"2"===n.values.category,value:"2",onChange:n.handleChange}),"\xa0Frontend"]}),Object(o.jsxs)("label",{style:Vn,children:[Object(o.jsx)("input",{type:"radio",name:"category",checked:"3"===n.values.category,value:"3",onChange:n.handleChange}),"\xa0Backend"]})]}),n.touched.category&&n.errors.category?Object(o.jsx)("div",{style:_,children:n.errors.category}):null]}),Object(o.jsx)("div",{style:Object(h.a)(Object(h.a)({},qn),{},{paddingTop:"0"}),children:Object(o.jsxs)("label",{style:Object(h.a)(Object(h.a)({},Vn),{},{fontWeight:"bold",color:"green"}),children:[Object(o.jsx)("input",{type:"checkbox",name:"status",checked:n.values.status,onChange:n.handleChange}),"\xa0Publish"]})}),Object(o.jsxs)("div",{style:{width:"100%",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(o.jsx)("button",{style:z,type:"submit",children:"Submit"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{marginLeft:"1rem",backgroundColor:"hsl(34, 80%, 73%)"}),className:"btn",onClick:function(){return e.goBack()},children:"Cancel"})]})]})]})},Gn={width:"100%",padding:"1rem",outline:"none",minHeight:"40vh",borderRadius:"1rem",margin:"1rem auto",resize:"vertical"},Zn={color:"#719fb0",fontWeight:"bold",textAlign:"left",paddingLeft:"1.2rem"},Jn={width:"100%",backgroundColor:"#f0f0f0",padding:"1rem",borderRadius:"1.6rem",fontFamily:'"Arial", sans-serif',fontSize:"13px",outline:"none",marginTop:"0.6rem"},$n={width:"100%",position:"relative",marginBottom:"1rem"},Xn={width:"100%",position:"relative",display:"flex",flexDirection:"column",paddingTop:"0.5rem",paddingBottom:"1.5rem"},Qn={color:"#6e7c7c",width:"6rem",fontSize:"14px",margin:"0.3rem"};var eo=function(){var e,t=Object(b.g)(),n=Object(b.h)(),a=Object(b.i)().slug,r=null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.postedItem,c=function(){var e=Object(m.a)(x.a.mark((function e(n){var o,r,c,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0===n.status?n.status="published":n.status="draft",console.log({values:n}),e.prev=2,e.next=5,D("api/".concat(a,"/edit/"),n);case 5:o=e.sent,alert(o.data.message),t.goBack(),e.next=14;break;case 10:if(e.prev=10,e.t0=e.catch(2),r=e.t0.response){for(i in c=r.data,s=[],c)s.push("\n ".concat(i,": ").concat(c[i]));alert(s)}else console.log("Something went wrong!");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),s=Object(N.a)({initialValues:{title:r.title,content:r.content,image_URL:r.image_URL,category:r.category,status:!1},validationSchema:I.b({title:I.d().max(100,"Must be 100 characters or less"),content:I.d(),image_URL:I.d(),category:I.d().required("Category option is required"),status:I.a()}),onSubmit:function(e){c(e)}});return Object(o.jsxs)("div",{style:{backgroundColor:"#f6f5f5",minHeight:"100vh",overflow:"hidden"},children:[Object(o.jsx)(de,{}),Object(o.jsx)("h2",{style:gt,children:"Post Edit"}),Object(o.jsxs)("form",{onSubmit:s.handleSubmit,style:{width:"40vw",minWidth:"300px",borderRadius:"1.2rem",height:"auto",backgroundColor:"#f0e4d7",margin:"2rem auto",padding:"2rem",display:"flex",flexDirection:"column"},children:[Object(o.jsxs)("div",{style:$n,children:[Object(o.jsx)("label",{style:Zn,htmlFor:"title",children:"Title:"}),Object(o.jsx)("input",{name:"title",type:"text",style:Jn,value:s.values.title,onChange:s.handleChange}),s.touched.title&&s.errors.title?Object(o.jsx)("div",{style:_,children:s.errors.title}):null]}),Object(o.jsxs)("div",{style:$n,children:[Object(o.jsx)("label",{style:Zn,htmlFor:"image_URL",children:"image_URL:"}),Object(o.jsx)("input",{name:"image_URL",style:Jn,value:s.values.image_URL,onChange:s.handleChange}),s.touched.image_URL&&s.errors.image_URL?Object(o.jsx)("div",{style:_,children:s.errors.image_URL}):null]}),Object(o.jsxs)("div",{style:$n,children:[Object(o.jsx)("label",{style:Zn,htmlFor:"content",children:"Content:"}),Object(o.jsx)("textarea",{name:"content",style:Gn,type:"textarea",value:s.values.content,onChange:s.handleChange}),s.touched.content&&s.errors.content?Object(o.jsx)("div",{style:_,children:s.errors.content}):null]}),Object(o.jsxs)("div",{style:Xn,children:[Object(o.jsx)("div",{children:Object(o.jsxs)("label",{style:Zn,htmlFor:"category",children:[" ","Edit category:"]})}),Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-around",margin:"0.5rem auto 0.5rem 1rem"},children:[Object(o.jsxs)("label",{style:Qn,children:[Object(o.jsx)("input",{type:"radio",name:"category",checked:"cloud"===s.values.category||"1"===s.values.category,value:"1",onChange:s.handleChange}),"\xa0Cloud"]}),Object(o.jsxs)("label",{style:Qn,children:[Object(o.jsx)("input",{type:"radio",name:"category",checked:"frontend"===s.values.category||"2"===s.values.category,value:"2",onChange:s.handleChange}),"\xa0Frontend"]}),Object(o.jsxs)("label",{style:Qn,children:[Object(o.jsx)("input",{type:"radio",name:"category",checked:"backend"===s.values.category||"3"===s.values.category,value:"3",onChange:s.handleChange}),"\xa0Backend"]})]}),s.touched.category&&s.errors.category?Object(o.jsx)("div",{style:_,children:s.errors.category}):null]}),Object(o.jsx)("div",{style:Object(h.a)(Object(h.a)({},Xn),{},{paddingTop:"0"}),children:Object(o.jsxs)("label",{style:Object(h.a)(Object(h.a)({},Qn),{},{fontWeight:"bold",color:"green"}),children:[Object(o.jsx)("input",{type:"checkbox",name:"status",checked:s.values.status,onChange:s.handleChange}),"\xa0\xa0Publish"]})}),Object(o.jsxs)("div",{style:{width:"100%",height:"60px",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(o.jsx)("button",{style:z,type:"submit",children:"Submit"}),Object(o.jsx)("button",{style:Object(h.a)(Object(h.a)({},z),{},{marginLeft:"1rem",backgroundColor:"hsl(34, 80%, 73%)"}),className:"btn",onClick:function(){return t.goBack()},children:"Cancel"})]})]})]})},to=n(198),no=function(e){var t=e.component,n=Object(to.a)(e,["component"]);return Object(o.jsx)(b.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return localStorage.getItem("token")?Object(o.jsx)(t,Object(h.a)({},e)):Object(o.jsx)(b.a,{to:{pathname:"/",state:{from:e.location}}})}}))};function oo(){return Object(o.jsx)(u,{children:Object(o.jsx)(j.a,{children:Object(o.jsxs)(b.d,{children:[Object(o.jsx)(b.b,{path:"/",component:U,exact:!0}),Object(o.jsx)(b.b,{path:"/home",component:tt,exact:!0}),Object(o.jsx)(b.b,{path:"/about",component:at,exact:!0}),Object(o.jsx)(b.b,{path:"/contact",component:rt,exact:!0}),Object(o.jsx)(b.b,{path:"/password-reset",component:En,exact:!0}),Object(o.jsx)(b.b,{path:"/password-reset/:uidb64/:token",component:Mn,exact:!0}),Object(o.jsx)(no,{path:"/profile",component:Wt,exact:!0}),Object(o.jsx)(no,{path:"/account",component:en,exact:!0}),Object(o.jsx)(no,{path:"/user-detail/:username",component:In,exact:!0}),Object(o.jsx)(no,{path:"/detail/:slug",component:mn,exact:!0}),Object(o.jsx)(no,{path:"/create",component:Kn,exact:!0}),Object(o.jsx)(no,{path:"/edit/:slug",component:eo,exact:!0})]})})})}var ao=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,457)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),r(e),c(e)}))};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(oo,{})}),document.getElementById("root")),ao()}},[[394,1,2]]]);
//# sourceMappingURL=main.30f49d4e.chunk.js.map